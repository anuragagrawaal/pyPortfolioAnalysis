
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module pyPortfolioAnalysis</title>
<meta charset="utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>pyPortfolioAnalysis</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/anurag/Documents/Coding/Python/Modules/pyPortfolioAnalysis/pyPortfolioAnalysis/pyPortfolioAnalysis.py">/Users/anurag/Documents/Coding/Python/Modules/pyPortfolioAnalysis/pyPortfolioAnalysis/pyPortfolioAnalysis.py</a></font></td></tr></table>
    <p><tt>pyPortfolioAnalysis:&nbsp;Methods&nbsp;to&nbsp;optimize&nbsp;portfolio<br>
==================================================<br>
&nbsp;<br>
Documentation&nbsp;is&nbsp;available&nbsp;as&nbsp;docstring&nbsp;or&nbsp;as&nbsp;HTML&nbsp;on&nbsp;https://github.com/anuragagrawaal/pyPortfolioAnalysis<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
References<br>
----------<br>
Brian&nbsp;G.&nbsp;Peterson&nbsp;and&nbsp;Peter&nbsp;Carl&nbsp;(2018).&nbsp;PortfolioAnalytics:&nbsp;Portfolio&nbsp;Analysis,&nbsp;Including&nbsp;Numerical&nbsp;Methods&nbsp;for&nbsp;Optimization&nbsp;of&nbsp;Portfolios.&nbsp;R&nbsp;package&nbsp;version&nbsp;1.1.0.&nbsp;https://CRAN.R-project.org/package=PortfolioAnalytics<br>
&nbsp;&nbsp;<br>
Boudt,&nbsp;Kris&nbsp;and&nbsp;Lu,&nbsp;Wanbo&nbsp;and&nbsp;Peeters,&nbsp;Benedict,&nbsp;Higher&nbsp;Order&nbsp;Comoments&nbsp;of&nbsp;Multifactor&nbsp;Models&nbsp;and&nbsp;Asset&nbsp;Allocation&nbsp;(June&nbsp;16,&nbsp;2014).&nbsp;Available&nbsp;at&nbsp;SSRN:&nbsp;<a href="http://ssrn.com/abstract=2409603">http://ssrn.com/abstract=2409603</a>&nbsp;or&nbsp;<a href="http://dx.doi.org/10.2139/ssrn.2409603">http://dx.doi.org/10.2139/ssrn.2409603</a><br>
&nbsp;<br>
Chriss,&nbsp;Neil&nbsp;A&nbsp;and&nbsp;Almgren,&nbsp;Robert,&nbsp;Portfolios&nbsp;from&nbsp;Sorts&nbsp;(April&nbsp;27,&nbsp;2005).&nbsp;Available&nbsp;at&nbsp;SSRN:&nbsp;<a href="http://ssrn.com/abstract=720041">http://ssrn.com/abstract=720041</a>&nbsp;or&nbsp;<a href="http://dx.doi.org/10.2139/ssrn.720041">http://dx.doi.org/10.2139/ssrn.720041</a><br>
&nbsp;<br>
Meucci,&nbsp;Attilio,&nbsp;The&nbsp;Black-Litterman&nbsp;Approach:&nbsp;Original&nbsp;Model&nbsp;and&nbsp;Extensions&nbsp;(August&nbsp;1,&nbsp;2008).&nbsp;Shorter&nbsp;version&nbsp;in,&nbsp;THE&nbsp;ENCYCLOPEDIA&nbsp;OF&nbsp;QUANTITATIVE&nbsp;FINANCE,&nbsp;Wiley,&nbsp;2010.&nbsp;Avail-&nbsp;able&nbsp;at&nbsp;SSRN:&nbsp;<a href="http://ssrn.com/abstract=1117574">http://ssrn.com/abstract=1117574</a>&nbsp;or&nbsp;<a href="http://dx.doi.org/10.2139/ssrn.1117574">http://dx.doi.org/10.2139/ssrn.1117574</a><br>
&nbsp;<br>
Meucci,&nbsp;Attilio,&nbsp;Fully&nbsp;Flexible&nbsp;Views:&nbsp;Theory&nbsp;and&nbsp;Practice&nbsp;(August&nbsp;8,&nbsp;2008).&nbsp;Fully&nbsp;Flexible&nbsp;Views:&nbsp;Theory&nbsp;and&nbsp;Practice,&nbsp;Risk,&nbsp;Vol.&nbsp;21,&nbsp;No.&nbsp;10,&nbsp;pp.&nbsp;97-102,&nbsp;October&nbsp;2008.&nbsp;Available&nbsp;at&nbsp;SSRN:&nbsp;<a href="http://ssrn.com/abstract=1213325">http://ssrn.com/abstract=1213325</a><br>
&nbsp;<br>
Scherer,&nbsp;Bernd&nbsp;and&nbsp;Martin,&nbsp;Doug,&nbsp;Modern&nbsp;Portfolio&nbsp;Optimization.&nbsp;Springer.&nbsp;2005.<br>
&nbsp;<br>
Shaw,&nbsp;William&nbsp;Thornton,&nbsp;Portfolio&nbsp;Optimization&nbsp;for&nbsp;VAR,&nbsp;CVaR,&nbsp;Omega&nbsp;and&nbsp;Utility&nbsp;with&nbsp;General&nbsp;Return&nbsp;Distributions:&nbsp;A&nbsp;Monte&nbsp;Carlo&nbsp;Approach&nbsp;for&nbsp;Long-Only&nbsp;and&nbsp;Bounded&nbsp;Short&nbsp;Portfolios&nbsp;with&nbsp;Optional&nbsp;Robustness&nbsp;and&nbsp;a&nbsp;Simplified&nbsp;Approach&nbsp;to&nbsp;Covariance&nbsp;Matching&nbsp;(June&nbsp;1,&nbsp;2011).&nbsp;Available&nbsp;at&nbsp;SSRN:&nbsp;<a href="http://ssrn.com/abstract=1856476">http://ssrn.com/abstract=1856476</a>&nbsp;or&nbsp;<a href="http://dx.doi.org/10.2139/ssrn.1856476">http://dx.doi.org/10.2139/ssrn.1856476</a></tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="pyPortfolioAnalysis.html#black_litterman">black_litterman</a>
</font></dt><dt><font face="helvetica, arial"><a href="pyPortfolioAnalysis.html#portfolio_spec">portfolio_spec</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="black_litterman">class <strong>black_litterman</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>A&nbsp;class&nbsp;to&nbsp;call&nbsp;<a href="#black_litterman">black_litterman</a>&nbsp;object.<br>
&nbsp;<br>
Black-litterman&nbsp;formula&nbsp;is&nbsp;popular&nbsp;to&nbsp;get&nbsp;posterior&nbsp;moments&nbsp;of&nbsp;the&nbsp;portfolio.<br>
&nbsp;<br>
...<br>
&nbsp;<br>
Attributes<br>
----------<br>
R&nbsp;:&nbsp;pandas.DataFrame<br>
&nbsp;&nbsp;&nbsp;&nbsp;dataframe&nbsp;of&nbsp;returns&nbsp;series.<br>
P&nbsp;:&nbsp;matrix-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;KXN&nbsp;link&nbsp;matrix&nbsp;where&nbsp;N&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;assets&nbsp;and&nbsp;K&nbsp;are&nbsp;the&nbsp;views<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Methods<br>
-------<br>
<a href="#black_litterman-fit">fit</a>(Mu&nbsp;=&nbsp;None,&nbsp;S&nbsp;=&nbsp;None,&nbsp;Views&nbsp;=&nbsp;None,&nbsp;tau&nbsp;=&nbsp;1):<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;a&nbsp;matrix&nbsp;of&nbsp;posterior&nbsp;returns&nbsp;based&nbsp;on&nbsp;Views&nbsp;and&nbsp;returns&nbsp;data.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="black_litterman-__init__"><strong>__init__</strong></a>(self, R, P)</dt><dd><tt>Constructor&nbsp;for&nbsp;all&nbsp;necessary&nbsp;attributes&nbsp;of&nbsp;class&nbsp;<a href="#black_litterman">black_litterman</a><br>
&nbsp;<br>
...<br>
&nbsp;<br>
Attributes<br>
----------<br>
R&nbsp;:&nbsp;pandas.DataFrame<br>
&nbsp;&nbsp;&nbsp;&nbsp;dataframe&nbsp;of&nbsp;returns&nbsp;series.<br>
P&nbsp;:&nbsp;matrix-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;KXN&nbsp;link&nbsp;matrix&nbsp;where&nbsp;N&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;assets&nbsp;and&nbsp;K&nbsp;are&nbsp;the&nbsp;views</tt></dd></dl>

<dl><dt><a name="black_litterman-fit"><strong>fit</strong></a>(self, Mu<font color="#909090">=None</font>, S<font color="#909090">=None</font>, Views<font color="#909090">=None</font>, tau<font color="#909090">=1</font>)</dt><dd><tt>fit&nbsp;method&nbsp;of&nbsp;<a href="#black_litterman">black_litterman</a>&nbsp;object<br>
&nbsp;<br>
Main&nbsp;function&nbsp;to&nbsp;call&nbsp;in&nbsp;order&nbsp;to&nbsp;return&nbsp;the&nbsp;posterior&nbsp;mean&nbsp;of&nbsp;the&nbsp;portfolio&nbsp;given&nbsp;the&nbsp;views&nbsp;and&nbsp;return.<br>
&nbsp;<br>
Parameters<br>
----------<br>
Mu&nbsp;:&nbsp;array-like,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;prior&nbsp;mean&nbsp;of&nbsp;the&nbsp;returns.&nbsp;numpy.mean&nbsp;is&nbsp;called&nbsp;if&nbsp;Mu&nbsp;is&nbsp;None<br>
S&nbsp;:&nbsp;matrix-like,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;NXN&nbsp;covariance&nbsp;matrix.&nbsp;numpy.cov&nbsp;is&nbsp;called&nbsp;if&nbsp;S&nbsp;is&nbsp;None<br>
Views:&nbsp;array-like,&nbsp;default&nbsp;=&nbsp;None<br>
&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;of&nbsp;K&nbsp;views&nbsp;held&nbsp;by&nbsp;investor.&nbsp;<br>
Tau:&nbsp;float,&nbsp;default&nbsp;=&nbsp;1<br>
&nbsp;&nbsp;&nbsp;&nbsp;multiplying&nbsp;factor&nbsp;to&nbsp;be&nbsp;used.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns<br>
-------<br>
array:<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;posterior&nbsp;moments&nbsp;of&nbsp;portfolio&nbsp;given&nbsp;the&nbsp;returns&nbsp;and&nbsp;weights<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
<a href="#portfolio_spec">portfolio_spec</a><br>
optimize_portfolio<br>
&nbsp;<br>
Notes<br>
-----<br>
&nbsp;<br>
Black-litterman&nbsp;formula&nbsp;is&nbsp;very&nbsp;useful&nbsp;if&nbsp;an&nbsp;investor&nbsp;believes&nbsp;that&nbsp;a&nbsp;particular&nbsp;stock&nbsp;is&nbsp;going&nbsp;to&nbsp;rise<br>
compared&nbsp;to&nbsp;others&nbsp;although&nbsp;this&nbsp;information&nbsp;is&nbsp;not&nbsp;incorporated&nbsp;in&nbsp;the&nbsp;stock&nbsp;price.&nbsp;Essentially,&nbsp;it&nbsp;captures<br>
the&nbsp;views&nbsp;an&nbsp;investor&nbsp;holds&nbsp;for&nbsp;a&nbsp;particular&nbsp;asset.<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;P&nbsp;=&nbsp;np.matrix([[-1,&nbsp;0,&nbsp;1],[0,-1,1]])<br>
&gt;&gt;&gt;&nbsp;Views&nbsp;=&nbsp;np.matrix([[0.02],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0.05]])<br>
&gt;&gt;&gt;&nbsp;bl&nbsp;=&nbsp;<a href="#black_litterman">black_litterman</a>(R&nbsp;=&nbsp;port_ret,&nbsp;P&nbsp;=&nbsp;P)<br>
&gt;&gt;&gt;&nbsp;bl.<a href="#black_litterman-fit">fit</a>(Views&nbsp;=&nbsp;Views)</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="portfolio_spec">class <strong>portfolio_spec</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>A&nbsp;class&nbsp;to&nbsp;call&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object.<br>
&nbsp;<br>
<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object&nbsp;is&nbsp;the&nbsp;main&nbsp;class&nbsp;that&nbsp;contains&nbsp;all&nbsp;the&nbsp;constraints,&nbsp;objectives,&nbsp;optimal&nbsp;weights;<br>
it&nbsp;is&nbsp;called&nbsp;by&nbsp;many&nbsp;functions&nbsp;to&nbsp;get&nbsp;relevant&nbsp;attributes&nbsp;and&nbsp;store&nbsp;attributes.<br>
&nbsp;<br>
...<br>
&nbsp;<br>
Attributes<br>
----------<br>
&nbsp;<br>
assets&nbsp;:&nbsp;int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;add&nbsp;assets&nbsp;to&nbsp;portfolio&nbsp;either&nbsp;via&nbsp;name&nbsp;of&nbsp;assets&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;an&nbsp;array&nbsp;or&nbsp;int&nbsp;of&nbsp;number&nbsp;of&nbsp;assets.<br>
category_label:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;dictionary&nbsp;of&nbsp;different&nbsp;categories&nbsp;assigned&nbsp;to&nbsp;different&nbsp;assets.&nbsp;similar&nbsp;to&nbsp;group_constraint.<br>
&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;group_constraint.<br>
weights_seq&nbsp;:&nbsp;sequence,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;of&nbsp;random&nbsp;weights.&nbsp;These&nbsp;weights&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;optimize&nbsp;weights.&nbsp;See&nbsp;generate_sequence<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;diable&nbsp;message<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Methods<br>
-------<br>
<a href="#portfolio_spec-port_summary">port_summary</a>():<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;the&nbsp;summary&nbsp;of&nbsp;constraints&nbsp;and&nbsp;objective&nbsp;added&nbsp;by&nbsp;add_consraint&nbsp;and&nbsp;add_objective<br>
&nbsp;&nbsp;&nbsp;&nbsp;funtions.&nbsp;See&nbsp;add_constraint,&nbsp;add_objective<br>
<a href="#portfolio_spec-optimal_portfolio">optimal_portfolio</a>():<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;optimal&nbsp;weights,&nbsp;objective&nbsp;measure&nbsp;and&nbsp;minimum&nbsp;value&nbsp;calculated&nbsp;by&nbsp;the&nbsp;specified&nbsp;solver<br>
&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;optimal_portfolio&nbsp;will&nbsp;only&nbsp;return&nbsp;result&nbsp;if&nbsp;optimize_portfolio&nbsp;is&nbsp;called.&nbsp;See&nbsp;optimize_portfolio<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="portfolio_spec-__init__"><strong>__init__</strong></a>(self, assets, category_labels<font color="#909090">=None</font>, weights_seq<font color="#909090">=None</font>, message<font color="#909090">=False</font>)</dt><dd><tt>Constructor&nbsp;for&nbsp;all&nbsp;necessary&nbsp;attributes&nbsp;of&nbsp;class&nbsp;<a href="#black_litterman">black_litterman</a><br>
&nbsp;<br>
...<br>
&nbsp;<br>
Attributes<br>
----------<br>
&nbsp;<br>
assets&nbsp;:&nbsp;int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;add&nbsp;assets&nbsp;to&nbsp;portfolio&nbsp;either&nbsp;via&nbsp;name&nbsp;of&nbsp;assets&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;an&nbsp;array&nbsp;or&nbsp;int&nbsp;of&nbsp;number&nbsp;of&nbsp;assets.<br>
category_label:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;dictionary&nbsp;of&nbsp;different&nbsp;categories&nbsp;assigned&nbsp;to&nbsp;different&nbsp;assets.&nbsp;similar&nbsp;to&nbsp;group_constraint.<br>
&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;group_constraint.<br>
weights_seq&nbsp;:&nbsp;sequence,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;of&nbsp;random&nbsp;weights.&nbsp;These&nbsp;weights&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;optimize&nbsp;weights.&nbsp;See&nbsp;generate_sequence<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;diable&nbsp;message</tt></dd></dl>

<dl><dt><a name="portfolio_spec-optimal_portfolio"><strong>optimal_portfolio</strong></a>(self)</dt><dd><tt>summary&nbsp;of&nbsp;the&nbsp;portfolio<br>
&nbsp;<br>
method&nbsp;to&nbsp;provide&nbsp;a&nbsp;summary&nbsp;of&nbsp;the&nbsp;optimal&nbsp;weights,&nbsp;objective&nbsp;and&nbsp;minimum&nbsp;output&nbsp;of&nbsp;portfolio.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns<br>
-------<br>
dict:<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;optimal&nbsp;weights,&nbsp;objective&nbsp;and&nbsp;minimum&nbsp;output&nbsp;of&nbsp;portfolio<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
<a href="#portfolio_spec">portfolio_spec</a><br>
optimize_portfolio<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;p1&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;3)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'factor_exposure',&nbsp;B&nbsp;=&nbsp;[0.2,0.2,0.4],&nbsp;lower&nbsp;=&nbsp;1.0,&nbsp;upper&nbsp;=&nbsp;0.9)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'group',&nbsp;groups&nbsp;=&nbsp;dict(zip(['equity','debt'],[[0,1],&nbsp;[2]])),&nbsp;group_min&nbsp;=&nbsp;0.2,&nbsp;group_max&nbsp;=&nbsp;0.5)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'transaction',&nbsp;ptc&nbsp;=&nbsp;0.2)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'return',&nbsp;target&nbsp;=&nbsp;0.1,&nbsp;name&nbsp;=&nbsp;'return_obj')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'minmax',&nbsp;&nbsp;minimum&nbsp;=&nbsp;0.2,&nbsp;maximum&nbsp;=&nbsp;0.3,name&nbsp;=&nbsp;'risk')<br>
&gt;&gt;&gt;&nbsp;<a href="#-optimize_portfolio">optimize_portfolio</a>(R,&nbsp;p1,&nbsp;optimize_method&nbsp;=&nbsp;'DEoptim')<br>
&gt;&gt;&gt;&nbsp;p1.optimal_weights()</tt></dd></dl>

<dl><dt><a name="portfolio_spec-port_summary"><strong>port_summary</strong></a>(self)</dt><dd><tt>summary&nbsp;of&nbsp;the&nbsp;portfolio<br>
&nbsp;<br>
method&nbsp;to&nbsp;provide&nbsp;a&nbsp;summary&nbsp;of&nbsp;the&nbsp;portfolio.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns<br>
-------<br>
dict:<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;constraints&nbsp;and&nbsp;objective<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
<a href="#portfolio_spec">portfolio_spec</a><br>
optimize_portfolio<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;p1&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;3)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'factor_exposure',&nbsp;B&nbsp;=&nbsp;[0.2,0.2,0.4],&nbsp;lower&nbsp;=&nbsp;1.0,&nbsp;upper&nbsp;=&nbsp;0.9)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'group',&nbsp;groups&nbsp;=&nbsp;dict(zip(['equity','debt'],[[0,1],&nbsp;[2]])),&nbsp;group_min&nbsp;=&nbsp;0.2,&nbsp;group_max&nbsp;=&nbsp;0.5)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'transaction',&nbsp;ptc&nbsp;=&nbsp;0.2)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'return',&nbsp;target&nbsp;=&nbsp;0.1,&nbsp;name&nbsp;=&nbsp;'return_obj')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(portfolio&nbsp;=&nbsp;p1,&nbsp;kind&nbsp;=&nbsp;'minmax',&nbsp;&nbsp;minimum&nbsp;=&nbsp;0.2,&nbsp;maximum&nbsp;=&nbsp;0.3,name&nbsp;=&nbsp;'risk')<br>
&gt;&gt;&gt;&nbsp;p1.<a href="#portfolio_spec-port_summary">port_summary</a>()</tt></dd></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-HHI"><strong>HHI</strong></a>(weights, groups<font color="#909090">=None</font>)</dt><dd><tt>The&nbsp;Herfindahl&nbsp;Hirschman&nbsp;Index&nbsp;measures&nbsp;the&nbsp;concentration&nbsp;of&nbsp;weights&nbsp;using&nbsp;this&nbsp;function.<br>
&nbsp;<br>
Concentration&nbsp;of&nbsp;weights<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;collection&nbsp;of&nbsp;weights&nbsp;of&nbsp;the&nbsp;portfolio.<br>
groups&nbsp;:&nbsp;dict,<br>
&nbsp;&nbsp;&nbsp;&nbsp;dictionary&nbsp;of&nbsp;groups.&nbsp;&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;the&nbsp;weight&nbsp;concentration&nbsp;given&nbsp;the&nbsp;weights<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
port_mean<br>
var_portfolio<br>
VaR<br>
cVaR<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;#&nbsp;calculate&nbsp;HHI<br>
&gt;&gt;&gt;&nbsp;w&nbsp;=&nbsp;[0.2,0.3,-0.1,0.6,0.8]<br>
&gt;&gt;&gt;&nbsp;<a href="#-HHI">HHI</a>(w)</tt></dd></dl>
 <dl><dt><a name="-VaR"><strong>VaR</strong></a>(R, p<font color="#909090">=0.05</font>)</dt><dd><tt>Calculate&nbsp;the&nbsp;value&nbsp;at&nbsp;risk&nbsp;(VaR)<br>
&nbsp;<br>
This&nbsp;function&nbsp;calculates&nbsp;the&nbsp;value&nbsp;at&nbsp;risk&nbsp;(VaR)&nbsp;assuming&nbsp;gaussian&nbsp;distribution<br>
&nbsp;<br>
Parameters<br>
----------<br>
R&nbsp;:&nbsp;pd.DataFrame&nbsp;object,<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;dataframe<br>
p&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;quantile&nbsp;estimate<br>
&nbsp;<br>
Returns<br>
-------<br>
Calculates&nbsp;the&nbsp;VaR&nbsp;given&nbsp;returns<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
cVaR<br>
VaR_portfolio<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;<a href="#-VaR">VaR</a>(R,p&nbsp;=&nbsp;0.01)</tt></dd></dl>
 <dl><dt><a name="-VaR_portfolio"><strong>VaR_portfolio</strong></a>(w, R, p<font color="#909090">=0.05</font>, mean<font color="#909090">=True</font>)</dt><dd><tt>calculate&nbsp;the&nbsp;value&nbsp;at&nbsp;risk&nbsp;(VaR)&nbsp;of&nbsp;a&nbsp;portfolio<br>
&nbsp;<br>
This&nbsp;function&nbsp;calculates&nbsp;the&nbsp;value&nbsp;at&nbsp;risk&nbsp;(VaR)&nbsp;assuming&nbsp;gaussian&nbsp;distribution<br>
&nbsp;<br>
Parameters<br>
----------<br>
w&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;weights&nbsp;of&nbsp;portfolio<br>
R&nbsp;:&nbsp;pd.DataFrame&nbsp;object,<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;dataframe<br>
p&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;quantile&nbsp;estimate<br>
mean&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;mean&nbsp;VaR&nbsp;of&nbsp;portfolio<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns<br>
-------<br>
Calculates&nbsp;the&nbsp;VaR&nbsp;given&nbsp;portfolio&nbsp;weights<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
cVaR<br>
VaR_portfolio<br>
VaR<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;w&nbsp;=&nbsp;[0.2,0.3,0.5]<br>
&gt;&gt;&gt;&nbsp;<a href="#-VaR_portfolio">VaR_portfolio</a>(w,R,p&nbsp;=&nbsp;0.01)</tt></dd></dl>
 <dl><dt><a name="-add_constraint"><strong>add_constraint</strong></a>(portfolio, kind, enabled<font color="#909090">=True</font>, **kwargs)</dt><dd><tt>Add&nbsp;a&nbsp;constraint&nbsp;in&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
&nbsp;<br>
Main&nbsp;function&nbsp;to&nbsp;add&nbsp;or&nbsp;update&nbsp;constraint&nbsp;in&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
&nbsp;<br>
Parameters<br>
----------<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;see&nbsp;<a href="#portfolio_spec">portfolio_spec</a><br>
kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currently&nbsp;supported&nbsp;constraint:&nbsp;’weight_sum’&nbsp;(also&nbsp;’leverage’&nbsp;or&nbsp;’weight’),&nbsp;’box’,&nbsp;’group’,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;’turnover’,’diversification’,&nbsp;’position_limit’,&nbsp;’return’,&nbsp;’factor_exposure’,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;’leverage_exposure’.&nbsp;&nbsp;&nbsp;&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
kwargs&nbsp;:&nbsp;additional&nbsp;key&nbsp;word&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;constraint&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_constraints<br>
box_constraints<br>
group_constraints<br>
weight_sum_constraint<br>
turnover_constraint<br>
diversification_constraint<br>
position_limit_constraint<br>
return_constraint<br>
factor_exposure_constraint<br>
transaction_cost_constraint<br>
leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;<br>
Notes<br>
-----<br>
•weight_sum,&nbsp;weight,&nbsp;leverage&nbsp;Specify&nbsp;constraint&nbsp;on&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&nbsp;weights,&nbsp;see&nbsp;weight_sum_constraint&nbsp;&nbsp;&nbsp;&nbsp;<br>
•full_investment&nbsp;Special&nbsp;case&nbsp;to&nbsp;set&nbsp;min_sum=1&nbsp;and&nbsp;max_sum=1&nbsp;of&nbsp;weight&nbsp;sum&nbsp;constraints<br>
•dollar_neutral,&nbsp;active&nbsp;Special&nbsp;case&nbsp;to&nbsp;set&nbsp;min_sum=0&nbsp;and&nbsp;max_sum=0&nbsp;of&nbsp;weight_sum&nbsp;constraints<br>
•box&nbsp;box&nbsp;constraint&nbsp;for&nbsp;the&nbsp;individual&nbsp;asset&nbsp;weights,&nbsp;see&nbsp;box_constraint<br>
•long_only&nbsp;Special&nbsp;case&nbsp;to&nbsp;set&nbsp;min=0&nbsp;and&nbsp;max=1&nbsp;of&nbsp;box&nbsp;constraint<br>
•group&nbsp;specify&nbsp;the&nbsp;sum&nbsp;of&nbsp;weights&nbsp;within&nbsp;groups&nbsp;and&nbsp;the&nbsp;number&nbsp;of&nbsp;assets&nbsp;with&nbsp;non-zero&nbsp;weights&nbsp;in&nbsp;groups,<br>
&nbsp;&nbsp;&nbsp;&nbsp;see&nbsp;group_constraint<br>
•turnover&nbsp;Specify&nbsp;a&nbsp;constraint&nbsp;for&nbsp;target&nbsp;turnover.&nbsp;Turnover&nbsp;is&nbsp;calculated&nbsp;from&nbsp;a&nbsp;set&nbsp;of&nbsp;initial&nbsp;weights,<br>
&nbsp;&nbsp;&nbsp;&nbsp;see&nbsp;turnover_constraint<br>
•diversification&nbsp;target&nbsp;diversification&nbsp;of&nbsp;asset&nbsp;of&nbsp;weights,&nbsp;see&nbsp;diversification_constraint<br>
•position_limit&nbsp;Specify&nbsp;the&nbsp;number&nbsp;of&nbsp;non-zero,long,&nbsp;and/orshortpositions,&nbsp;see&nbsp;position_limit_constraint<br>
•return&nbsp;Specify&nbsp;the&nbsp;target&nbsp;mean&nbsp;return,&nbsp;see&nbsp;return_constraint<br>
•factor_exposure&nbsp;Specify&nbsp;risk&nbsp;factor&nbsp;exposures,&nbsp;see&nbsp;factor_exposure_constraint<br>
•leverage_exposure&nbsp;Specify&nbsp;a&nbsp;maximum&nbsp;leverage&nbsp;exposure,&nbsp;see&nbsp;leverage_exposure_constraint<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;portfolio&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;4)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;adding&nbsp;weight_sum&nbsp;cinstraint<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'weight_sum',&nbsp;min_sum&nbsp;=&nbsp;0.9,&nbsp;max_sum&nbsp;=&nbsp;.95)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;long_only&nbsp;is&nbsp;a&nbsp;special&nbsp;kind&nbsp;of&nbsp;box&nbsp;constraint&nbsp;where&nbsp;minimum&nbsp;and&nbsp;maximum&nbsp;is&nbsp;positive<br>
&gt;&gt;&gt;&nbsp;#&nbsp;minimum&nbsp;and&nbsp;maximum&nbsp;can&nbsp;be&nbsp;list&nbsp;or&nbsp;scalars<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'box',&nbsp;minimum&nbsp;=&nbsp;[0.9,&nbsp;-0.5,-0.5,&nbsp;0.1],&nbsp;maximum&nbsp;=&nbsp;1)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'long_only')<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;group&nbsp;constraint&nbsp;is&nbsp;used&nbsp;to&nbsp;specify&nbsp;min&nbsp;and&nbsp;max&nbsp;weights&nbsp;of&nbsp;certain&nbsp;asset_groups<br>
&gt;&gt;&gt;&nbsp;#&nbsp;groups&nbsp;must&nbsp;be&nbsp;a&nbsp;dict&nbsp;and&nbsp;group_min&nbsp;and&nbsp;group_max&nbsp;can&nbsp;be&nbsp;scalar&nbsp;or&nbsp;list<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'group',&nbsp;group_min&nbsp;=&nbsp;[0.9,&nbsp;-0.5,-0.5,&nbsp;0.1],&nbsp;group_max&nbsp;=&nbsp;1,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groups&nbsp;=&nbsp;{'eqity':[0,3],&nbsp;'debt':[1,2]})<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;adding&nbsp;weight_sum&nbsp;constraint<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'weight_sum',&nbsp;min_sum&nbsp;=&nbsp;0.9,&nbsp;max_sum&nbsp;=&nbsp;.95)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;special&nbsp;case&nbsp;of&nbsp;weight_sum&nbsp;is&nbsp;dollar_neutral/active&nbsp;or&nbsp;full_investment<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'dollar_neutral')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'full_investment')<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#turnover&nbsp;constraint<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'turnover',&nbsp;turnover_target&nbsp;=&nbsp;0.1)<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#diversification&nbsp;constraint&nbsp;for&nbsp;diversification&nbsp;target&nbsp;in&nbsp;a&nbsp;portfolio<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'diversification',&nbsp;div_target&nbsp;=&nbsp;0.1)<br>
&nbsp;<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#position_limit&nbsp;is&nbsp;a&nbsp;constraint&nbsp;to&nbsp;restrict&nbsp;max&nbsp;position&nbsp;and&nbsp;also&nbsp;max&nbsp;long/short&nbsp;positions<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'position_limit',&nbsp;max_pos&nbsp;=&nbsp;3,&nbsp;max_pos_long&nbsp;=&nbsp;2,&nbsp;max_pos_short&nbsp;=&nbsp;2)<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#return&nbsp;constraint&nbsp;to&nbsp;add&nbsp;a&nbsp;target&nbsp;mean&nbsp;historical&nbsp;return&nbsp;to&nbsp;the&nbsp;portfolio<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'return',&nbsp;return_target&nbsp;=&nbsp;0.0018)<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#adds&nbsp;a&nbsp;tranaction&nbsp;cost&nbsp;constraint&nbsp;on&nbsp;portfolio<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'transaction_cost',&nbsp;ptc&nbsp;=&nbsp;0.1)<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#constraint&nbsp;on&nbsp;the&nbsp;leverage&nbsp;of&nbsp;portfolio<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'leverage_exposure',&nbsp;leverage&nbsp;=&nbsp;0.8)<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#Factor_exposure&nbsp;constraint&nbsp;is&nbsp;used&nbsp;to&nbsp;test&nbsp;portfolio&nbsp;with&nbsp;their&nbsp;impact&nbsp;on&nbsp;certaint&nbsp;factors<br>
&gt;&gt;&gt;&nbsp;#&nbsp;factors&nbsp;can&nbsp;be&nbsp;single&nbsp;or&nbsp;multiple&nbsp;with&nbsp;lower&nbsp;and&nbsp;upper&nbsp;limit.&nbsp;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;B&nbsp;can&nbsp;be&nbsp;a&nbsp;N*K&nbsp;matrix&nbsp;for&nbsp;N&nbsp;assets&nbsp;and&nbsp;K&nbsp;factors.<br>
&gt;&gt;&gt;&nbsp;#&nbsp;lower&nbsp;and&nbsp;upper&nbsp;arguments&nbsp;can&nbsp;be&nbsp;float&nbsp;for&nbsp;single&nbsp;factor&nbsp;and&nbsp;list&nbsp;for&nbsp;multiple&nbsp;factors<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'factor_exposure',&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;=&nbsp;np.matrix([[1.2,1.3],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[2.3,1.4],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1.4,0.9],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[3.4,1.2]]),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lower&nbsp;=&nbsp;[0.8,1.4],&nbsp;upper&nbsp;=&nbsp;[2,2.4])</tt></dd></dl>
 <dl><dt><a name="-add_objective"><strong>add_objective</strong></a>(portfolio, kind, name, arguments<font color="#909090">=None</font>, constraints<font color="#909090">=None</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=True</font>, **kwargs)</dt><dd><tt>This&nbsp;function&nbsp;is&nbsp;the&nbsp;primary&nbsp;function&nbsp;of&nbsp;adding&nbsp;and&nbsp;updating&nbsp;business&nbsp;goals&nbsp;in&nbsp;a&nbsp;portfolio.spec&nbsp;type&nbsp;object.<br>
General&nbsp;interface,&nbsp;including&nbsp;risk,&nbsp;return,&nbsp;and&nbsp;risk&nbsp;budget,&nbsp;to&nbsp;add&nbsp;optimization&nbsp;goals.&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
Parameters<br>
----------<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;<br>
kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;character&nbsp;form&nbsp;of&nbsp;the&nbsp;goal&nbsp;to&nbsp;be&nbsp;added&nbsp;or&nbsp;changed,&nbsp;currently&nbsp;'return','&nbsp;risk',<br>
&nbsp;&nbsp;&nbsp;&nbsp;‘risk_budget','&nbsp;quadratic_utility’,&nbsp;or&nbsp;‘weight_concentration’.&nbsp;<br>
name&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;target&nbsp;name&nbsp;should&nbsp;correspond&nbsp;to&nbsp;a&nbsp;feature,&nbsp;although&nbsp;we&nbsp;will&nbsp;attempt&nbsp;to&nbsp;make&nbsp;allowances<br>
&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;:&nbsp;Default&nbsp;arguments&nbsp;to&nbsp;be&nbsp;transferred&nbsp;when&nbsp;executed&nbsp;on&nbsp;an&nbsp;objective&nbsp;function.<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
kwargs&nbsp;:&nbsp;additional&nbsp;key&nbsp;word&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;constraint&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;objective&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_objectives<br>
portfolio_risk_objectives<br>
risk_budget_objective<br>
turnover_objective<br>
minmax_objective<br>
weight_constraint_objective<br>
&nbsp;<br>
Notes<br>
-----<br>
In&nbsp;general,&nbsp;you&nbsp;will&nbsp;define&nbsp;your&nbsp;objective&nbsp;as&nbsp;one&nbsp;of&nbsp;the&nbsp;following&nbsp;types:<br>
’return’,&nbsp;’risk’,&nbsp;’risk_budget’,&nbsp;or&nbsp;’weight_concentration’.<br>
&nbsp;<br>
These&nbsp;have&nbsp;special&nbsp;handling&nbsp;and&nbsp;intelligent&nbsp;defaults&nbsp;for&nbsp;dealing&nbsp;with&nbsp;the&nbsp;function<br>
most&nbsp;likely&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;objectives,&nbsp;including&nbsp;mean,&nbsp;median,&nbsp;VaR,&nbsp;ES,&nbsp;etc.<br>
Objectives&nbsp;of&nbsp;type&nbsp;’turnover’&nbsp;and&nbsp;’minmax’&nbsp;are&nbsp;also&nbsp;supported.<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('long_only')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('full_investment')<br>
&gt;&gt;&gt;&nbsp;#adding&nbsp;objectives<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'return',&nbsp;name&nbsp;=&nbsp;'mean',&nbsp;target&nbsp;=&nbsp;0.0018)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'portfolio_risk',&nbsp;name&nbsp;=&nbsp;'std',&nbsp;target&nbsp;=&nbsp;0.015)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'risk_budget',&nbsp;name&nbsp;=&nbsp;'risk_budget')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'weight_conc',&nbsp;name&nbsp;=&nbsp;'HHI',&nbsp;target&nbsp;=&nbsp;0.11)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;'sharpe',&nbsp;target&nbsp;=&nbsp;0.13)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;add&nbsp;a&nbsp;custom&nbsp;objective&nbsp;by&nbsp;first&nbsp;defining&nbsp;it.<br>
&gt;&gt;&gt;&nbsp;def&nbsp;sortino_ratio(w,R):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#SOME&nbsp;CODE<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;{'sortino':sortino_ratio},&nbsp;target&nbsp;=&nbsp;0.35)<br>
NOTE:&nbsp;The&nbsp;output&nbsp;of&nbsp;sortino_ratio&nbsp;or&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;objective&nbsp;must&nbsp;be&nbsp;a&nbsp;float.<br>
NOTE:&nbsp;you&nbsp;can&nbsp;also&nbsp;add&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;other&nbsp;kind&nbsp;of&nbsp;objective&nbsp;in&nbsp;similar&nbsp;methd.</tt></dd></dl>
 <dl><dt><a name="-box_constraint"><strong>box_constraint</strong></a>(assets, minimum, maximum, kind<font color="#909090">='box'</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=True</font>, **kwargs)</dt><dd><tt>The&nbsp;box&nbsp;constraint&nbsp;defines&nbsp;the&nbsp;upper&nbsp;and&nbsp;lower&nbsp;limits&nbsp;of&nbsp;asset&nbsp;weights.<br>
add_constraint&nbsp;calls&nbsp;this&nbsp;function&nbsp;when&nbsp;type=”box”&nbsp;is&nbsp;defined.<br>
&nbsp;<br>
Parameters<br>
----------<br>
assets&nbsp;:&nbsp;&nbsp;int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;of&nbsp;assets,&nbsp;or&nbsp;optionally&nbsp;a&nbsp;named&nbsp;list&nbsp;of&nbsp;assets&nbsp;specifying&nbsp;initial&nbsp;weights.<br>
minimum&nbsp;:&nbsp;float,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numeric&nbsp;or&nbsp;named&nbsp;list&nbsp;defining&nbsp;the&nbsp;minimum&nbsp;constraints&nbsp;of&nbsp;the&nbsp;weight&nbsp;box.<br>
maximum&nbsp;:&nbsp;float,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numeric&nbsp;or&nbsp;named&nbsp;list&nbsp;defining&nbsp;the&nbsp;maximum&nbsp;constraints&nbsp;of&nbsp;the&nbsp;weight&nbsp;box.<br>
kind&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;of&nbsp;kind&nbsp;of&nbsp;constraint.&nbsp;&nbsp;&nbsp;&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
kwargs&nbsp;:&nbsp;&nbsp;additional&nbsp;key&nbsp;word&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;constraint&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
&nbsp;<br>
Returns<br>
-------<br>
Add&nbsp;box&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_constraints<br>
box_constraints<br>
group_constraints<br>
weight_sum_constraint<br>
turnover_constraint<br>
diversification_constraint<br>
position_limit_constraint<br>
return_constraint<br>
factor_exposure_constraint<br>
transaction_cost_constraint<br>
leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'box',&nbsp;minimum&nbsp;=&nbsp;[0.9,&nbsp;-0.5,-0.5,&nbsp;0.1],&nbsp;maximum&nbsp;=&nbsp;1)</tt></dd></dl>
 <dl><dt><a name="-cVaR_portfolio"><strong>cVaR_portfolio</strong></a>(w, R, p<font color="#909090">=0.05</font>, mean<font color="#909090">=True</font>)</dt><dd><tt>Calculate&nbsp;the&nbsp;conditional&nbsp;value&nbsp;at&nbsp;risk&nbsp;(cVaR)&nbsp;of&nbsp;a&nbsp;portfolio<br>
&nbsp;<br>
This&nbsp;function&nbsp;calculates&nbsp;the&nbsp;conditional&nbsp;value&nbsp;at&nbsp;risk&nbsp;(cVaR)&nbsp;assuming&nbsp;gaussian&nbsp;distribution<br>
&nbsp;<br>
Parameters<br>
----------<br>
w&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;weights&nbsp;of&nbsp;portfolio<br>
R&nbsp;:&nbsp;pd.DataFrame&nbsp;object,<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;dataframe<br>
p&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;quantile&nbsp;estimate<br>
mean&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;mean&nbsp;VaR&nbsp;of&nbsp;portfolio<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns<br>
-------<br>
Calculates&nbsp;the&nbsp;VaR&nbsp;given&nbsp;portfolio&nbsp;weights<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
cVaR<br>
VaR_portfolio<br>
VaR<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;w&nbsp;=&nbsp;[0.2,0.3,0.5]<br>
&gt;&gt;&gt;&nbsp;<a href="#-cVaR_portfolio">cVaR_portfolio</a>(w,R,p&nbsp;=&nbsp;0.01)</tt></dd></dl>
 <dl><dt><a name="-chart_efficient_frontier"><strong>chart_efficient_frontier</strong></a>(portfolio, R, metric<font color="#909090">='Sharpe Ratio'</font>, arguments<font color="#909090">={'rf': 0.0}</font>, cml<font color="#909090">=False</font>, rand_pf<font color="#909090">=300</font>, optimize_method<font color="#909090">='DEoptim'</font>, alpha<font color="#909090">=0.4</font>, figsize<font color="#909090">=(10, 6)</font>, **kwargs)</dt><dd><tt>Function&nbsp;to&nbsp;plot&nbsp;efficient&nbsp;frontier&nbsp;of&nbsp;portfolio.<br>
&nbsp;<br>
Parameters<br>
----------<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.<br>
R&nbsp;:&nbsp;pandas&nbsp;dataframe,<br>
&nbsp;&nbsp;&nbsp;&nbsp;dataframe&nbsp;of&nbsp;the&nbsp;returns&nbsp;series<br>
metric:&nbsp;str,&nbsp;default&nbsp;=&nbsp;'Sharpe&nbsp;Ratio'<br>
&nbsp;&nbsp;&nbsp;&nbsp;metric&nbsp;should&nbsp;be&nbsp;either&nbsp;of&nbsp;'Sharpe&nbsp;Ratio'&nbsp;or&nbsp;'Treynor&nbsp;Ratio'<br>
arguments&nbsp;:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;additional&nbsp;arguments&nbsp;such&nbsp;as&nbsp;risk-free&nbsp;rate&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;a&nbsp;dictionary.<br>
cml&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;capital&nbsp;market&nbsp;line<br>
rand_pf&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;random&nbsp;portfolio&nbsp;to&nbsp;plot&nbsp;to&nbsp;show&nbsp;the&nbsp;efficient&nbsp;frontier<br>
optimize_method&nbsp;:&nbsp;str,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;optimize_method&nbsp;should&nbsp;be&nbsp;similar&nbsp;to&nbsp;those&nbsp;in&nbsp;optimize_portfolio.&nbsp;see&nbsp;optimize_portfolio<br>
alpha&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;transparency<br>
figsize&nbsp;:&nbsp;tuple,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;figure&nbsp;size&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;a&nbsp;tuple<br>
kwargs&nbsp;:&nbsp;additional&nbsp;key&nbsp;word&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;constraint&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
matplotlib.scatter<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
chart_group_weights<br>
chart_weights<br>
chart_efficient_frontier<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;#&nbsp;Rb&nbsp;is&nbsp;S&amp;P500&nbsp;benchmark&nbsp;for&nbsp;capital&nbsp;market&nbsp;line&nbsp;and&nbsp;beta&nbsp;for&nbsp;treynor&nbsp;ratio<br>
&gt;&gt;&gt;&nbsp;chart_efficient_froniter(portfolio,&nbsp;R,&nbsp;metric&nbsp;=&nbsp;'Treynor&nbsp;Ratio',&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;{'rf':&nbsp;0.0008,&nbsp;'Rb':Rb},&nbsp;cml&nbsp;=&nbsp;True,&nbsp;alpha&nbsp;=&nbsp;0.1,&nbsp;rand_pf&nbsp;=&nbsp;1000,&nbsp;optimize_method&nbsp;=&nbsp;'pso')</tt></dd></dl>
 <dl><dt><a name="-chart_group_weights"><strong>chart_group_weights</strong></a>(portfolio)</dt><dd><tt>Function&nbsp;to&nbsp;plot&nbsp;individual&nbsp;group&nbsp;weights&nbsp;of&nbsp;optimal&nbsp;weights.<br>
&nbsp;<br>
Parameters<br>
----------<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
matplotlib.lines.Line2D<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
chart_group_weights<br>
chart_efficient_frontier<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;<a href="#-chart_group_weights">chart_group_weights</a>(portfolio)<br>
NOTE:&nbsp;chart_group_weights&nbsp;will&nbsp;only&nbsp;work&nbsp;after&nbsp;call&nbsp;optimize_portfolio&nbsp;on&nbsp;<a href="#portfolio_spec">portfolio_spec</a></tt></dd></dl>
 <dl><dt><a name="-chart_weights"><strong>chart_weights</strong></a>(portfolio)</dt><dd><tt>Function&nbsp;to&nbsp;plot&nbsp;weights&nbsp;of&nbsp;optimal&nbsp;weights.<br>
&nbsp;<br>
Parameters<br>
----------<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
matplotlib.lines.Line2D<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
chart_group_weights<br>
chart_efficient_frontier<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;<a href="#-chart_weights">chart_weights</a>(portfolio)<br>
NOTE:&nbsp;chart_group_weights&nbsp;will&nbsp;only&nbsp;work&nbsp;after&nbsp;call&nbsp;optimize_portfolio&nbsp;on&nbsp;<a href="#portfolio_spec">portfolio_spec</a></tt></dd></dl>
 <dl><dt><a name="-constrained_objective"><strong>constrained_objective</strong></a>(w, R, portfolio, trace<font color="#909090">=False</font>, normalize<font color="#909090">=False</font>, storage<font color="#909090">=False</font>, verbose<font color="#909090">=False</font>, penalty<font color="#909090">=10000</font>, *kwargs, **args)</dt><dd><tt>Add&nbsp;a&nbsp;constraint&nbsp;in&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
&nbsp;<br>
Main&nbsp;function&nbsp;to&nbsp;add&nbsp;or&nbsp;update&nbsp;constraint&nbsp;in&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
&nbsp;<br>
Parameters<br>
----------<br>
w&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;weights&nbsp;to&nbsp;test<br>
R&nbsp;:&nbsp;pd.DataFrame,<br>
&nbsp;&nbsp;&nbsp;&nbsp;dataframe&nbsp;of&nbsp;returns&nbsp;of&nbsp;assets&nbsp;in&nbsp;portfolio<br>
trace&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
normalize&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;specify&nbsp;if&nbsp;weights&nbsp;should&nbsp;be&nbsp;normalized&nbsp;first.&nbsp;see&nbsp;normalize_weights.<br>
verbose&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;verbose&nbsp;argument.<br>
penalty&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;value&nbsp;specifying&nbsp;he&nbsp;penalty&nbsp;if&nbsp;constraint&nbsp;or&nbsp;objective&nbsp;is&nbsp;breached.<br>
kwargs&nbsp;:&nbsp;additional&nbsp;key&nbsp;word&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;constraint&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
kwargs&nbsp;:&nbsp;additional&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;a&nbsp;float&nbsp;of&nbsp;total&nbsp;penalty&nbsp;given&nbsp;a&nbsp;weight.&nbsp;if&nbsp;trace&nbsp;=&nbsp;True,&nbsp;additional&nbsp;objective&nbsp;measure&nbsp;will&nbsp;be&nbsp;returned<br>
in&nbsp;the&nbsp;form&nbsp;of&nbsp;dictionary.<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
rp_transform<br>
optimize_portfolio<br>
&nbsp;<br>
Notes<br>
-----<br>
constrained_objective&nbsp;is&nbsp;the&nbsp;main&nbsp;function&nbsp;that&nbsp;is&nbsp;called&nbsp;by&nbsp;<br>
optimize_weights&nbsp;to&nbsp;optimze&nbsp;the&nbsp;constraint&nbsp;and&nbsp;objectives&nbsp;provided&nbsp;by&nbsp;the&nbsp;portfolio.<br>
&nbsp;<br>
Loosely&nbsp;speaking,&nbsp;constrained_objective&nbsp;is&nbsp;very&nbsp;similar&nbsp;to&nbsp;an&nbsp;information&nbsp;criteria.</tt></dd></dl>
 <dl><dt><a name="-diversification"><strong>diversification</strong></a>(weights)</dt><dd><tt>Diversification&nbsp;is&nbsp;stated&nbsp;as&nbsp;1&nbsp;minus&nbsp;the&nbsp;total&nbsp;of&nbsp;the&nbsp;squared&nbsp;weights<br>
&nbsp;<br>
Diversification&nbsp;function&nbsp;to&nbsp;compute&nbsp;as&nbsp;a&nbsp;constraint<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;weights&nbsp;of&nbsp;assets.&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;diversification&nbsp;given&nbsp;the&nbsp;weights<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
turnover<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;w&nbsp;=&nbsp;[0.2,0.3,0.5]<br>
&gt;&gt;&gt;&nbsp;<a href="#-turnover">turnover</a>(w)</tt></dd></dl>
 <dl><dt><a name="-diversification_constraint"><strong>diversification_constraint</strong></a>(assets, div_target, kind<font color="#909090">='diversification'</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=True</font>)</dt><dd><tt>Target&nbsp;diversification&nbsp;value&nbsp;is&nbsp;specified&nbsp;under&nbsp;the&nbsp;diversification&nbsp;constraint.<br>
&nbsp;<br>
This&nbsp;function&nbsp;is&nbsp;called&nbsp;by&nbsp;add.constraint&nbsp;when&nbsp;type=”diversification”&nbsp;is&nbsp;mentioned.<br>
&nbsp;<br>
Parameters<br>
----------<br>
assets&nbsp;:&nbsp;Int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number&nbsp;of&nbsp;assets&nbsp;or,&nbsp;as&nbsp;an&nbsp;alternative,&nbsp;a&nbsp;named&nbsp;asset&nbsp;list&nbsp;specifying&nbsp;initial&nbsp;weights.<br>
div_target&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;diversification&nbsp;target&nbsp;value<br>
kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;of&nbsp;the&nbsp;kind&nbsp;of&nbsp;constraint.&nbsp;&nbsp;&nbsp;&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;diversification&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_constraints<br>
box_constraints<br>
group_constraints<br>
weight_sum_constraint<br>
turnover_constraint<br>
diversification_constraint<br>
position_limit_constraint<br>
return_constraint<br>
factor_exposure_constraint<br>
transaction_cost_constraint<br>
leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;#diversification&nbsp;constraint&nbsp;for&nbsp;diversification&nbsp;target&nbsp;in&nbsp;a&nbsp;portfolio<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'diversification',&nbsp;div_target&nbsp;=&nbsp;0.1)</tt></dd></dl>
 <dl><dt><a name="-equal_weight"><strong>equal_weight</strong></a>(R, portfoio, **kwargs)</dt><dd><tt>Function&nbsp;to&nbsp;extract&nbsp;objective&nbsp;measures&nbsp;of&nbsp;equal&nbsp;weight&nbsp;portfolio.<br>
&nbsp;<br>
Parameters<br>
----------<br>
R&nbsp;:&nbsp;pd.DataFrame,<br>
&nbsp;&nbsp;&nbsp;&nbsp;dataframe&nbsp;of&nbsp;returns&nbsp;of&nbsp;assets&nbsp;in&nbsp;portfolio<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;&nbsp;<br>
kwargs&nbsp;:&nbsp;additional&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
&nbsp;<br>
Returns<br>
-------<br>
dictionary&nbsp;of&nbsp;objective&nbsp;measures&nbsp;of&nbsp;equal&nbsp;weighted&nbsp;portfolio<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
inverse_volatility_weights&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;<a href="#-equal_weight">equal_weight</a>(R,&nbsp;portfolio)</tt></dd></dl>
 <dl><dt><a name="-extract_groups"><strong>extract_groups</strong></a>(portfolio)</dt><dd><tt>Function&nbsp;to&nbsp;extract&nbsp;groups&nbsp;from&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object.<br>
&nbsp;<br>
Parameters<br>
----------<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
dictionary&nbsp;of&nbsp;groups&nbsp;if&nbsp;group_constraint&nbsp;is&nbsp;specified.<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
extract_weights<br>
extract_objective_measure<br>
extract_groups<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;<a href="#-extract_groups">extract_groups</a>(portfolio)<br>
NOTE:&nbsp;extract_groups&nbsp;will&nbsp;only&nbsp;work&nbsp;after&nbsp;calling&nbsp;optimize_portfolio&nbsp;on&nbsp;<a href="#portfolio_spec">portfolio_spec</a></tt></dd></dl>
 <dl><dt><a name="-extract_objective_measure"><strong>extract_objective_measure</strong></a>(R, portfolio, **kwargs)</dt><dd><tt>Function&nbsp;to&nbsp;extract&nbsp;objective&nbsp;measures&nbsp;of&nbsp;optimal&nbsp;weights.<br>
&nbsp;<br>
Parameters<br>
----------<br>
R&nbsp;:&nbsp;pd.DataFrame,<br>
&nbsp;&nbsp;&nbsp;&nbsp;dataframe&nbsp;of&nbsp;returns&nbsp;of&nbsp;assets&nbsp;in&nbsp;portfolio<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;&nbsp;<br>
kwargs&nbsp;:&nbsp;additional&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
&nbsp;<br>
Returns<br>
-------<br>
dictionary&nbsp;of&nbsp;objective&nbsp;measures&nbsp;as&nbsp;specified&nbsp;in&nbsp;the&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
extract_weights<br>
extract_objective_measure<br>
extract_groups<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;<a href="#-extract_objective_measure">extract_objective_measure</a>(R,&nbsp;portfolio)<br>
NOTE:&nbsp;extract_objective_measure&nbsp;will&nbsp;only&nbsp;work&nbsp;after&nbsp;calling&nbsp;optimize_portfolio&nbsp;on&nbsp;<a href="#portfolio_spec">portfolio_spec</a></tt></dd></dl>
 <dl><dt><a name="-extract_weights"><strong>extract_weights</strong></a>(portfolio)</dt><dd><tt>Function&nbsp;to&nbsp;extract&nbsp;optimal&nbsp;weights.<br>
&nbsp;<br>
Parameters<br>
----------<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
array&nbsp;of&nbsp;optimal&nbsp;weights<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
extract_objective_measure<br>
extract_groups<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;<a href="#-extract_weights">extract_weights</a>(portfolio)<br>
NOTE:&nbsp;extract_weights&nbsp;will&nbsp;only&nbsp;work&nbsp;after&nbsp;calling&nbsp;optimize_portfolio&nbsp;on&nbsp;<a href="#portfolio_spec">portfolio_spec</a></tt></dd></dl>
 <dl><dt><a name="-factor_exposure_constraint"><strong>factor_exposure_constraint</strong></a>(assets, B, lower, upper, kind<font color="#909090">='factor_exposure'</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=False</font>)</dt><dd><tt>Add&nbsp;a&nbsp;factor&nbsp;exposure&nbsp;constraint&nbsp;for&nbsp;"K"&nbsp;different&nbsp;factos&nbsp;in&nbsp;a&nbsp;portdolio&nbsp;and&nbsp;also&nbsp;their&nbsp;exposure&nbsp;to&nbsp;<br>
particular&nbsp;asset.<br>
&nbsp;<br>
&nbsp;<br>
Parameters<br>
----------<br>
assets&nbsp;:&nbsp;int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;named&nbsp;list&nbsp;of&nbsp;assets&nbsp;specifying&nbsp;initial&nbsp;weights.<br>
B&nbsp;:&nbsp;matrix-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;matrix&nbsp;or&nbsp;list&nbsp;of&nbsp;risk&nbsp;factor&nbsp;exposures<br>
lower&nbsp;:&nbsp;int,&nbsp;or&nbsp;array-like<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;lower&nbsp;limits&nbsp;of&nbsp;risk&nbsp;factor&nbsp;exposure&nbsp;constraints.<br>
upper&nbsp;:&nbsp;int,&nbsp;or&nbsp;array-like<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;upper&nbsp;limits&nbsp;of&nbsp;risk&nbsp;factor&nbsp;exposure&nbsp;constraints.<br>
kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;of&nbsp;kind&nbsp;of&nbsp;constraints.&nbsp;&nbsp;&nbsp;&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;factor_exposure&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_constraints<br>
box_constraints<br>
group_constraints<br>
weight_sum_constraint<br>
turnover_constraint<br>
diversification_constraint<br>
position_limit_constraint<br>
return_constraint<br>
factor_exposure_constraint<br>
transaction_cost_constraint<br>
leverage_exposure_constraint<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;#Factor_exposure&nbsp;constraint&nbsp;is&nbsp;used&nbsp;to&nbsp;test&nbsp;portfolio&nbsp;with&nbsp;their&nbsp;impact&nbsp;on&nbsp;certaint&nbsp;factors<br>
&gt;&gt;&gt;&nbsp;#&nbsp;factors&nbsp;can&nbsp;be&nbsp;single&nbsp;or&nbsp;multiple&nbsp;with&nbsp;lower&nbsp;and&nbsp;upper&nbsp;limit.&nbsp;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;B&nbsp;can&nbsp;be&nbsp;a&nbsp;N*K&nbsp;matrix&nbsp;for&nbsp;N&nbsp;assets&nbsp;and&nbsp;K&nbsp;factors.<br>
&gt;&gt;&gt;&nbsp;#&nbsp;lower&nbsp;and&nbsp;upper&nbsp;arguments&nbsp;can&nbsp;be&nbsp;float&nbsp;for&nbsp;single&nbsp;factor&nbsp;and&nbsp;list&nbsp;for&nbsp;multiple&nbsp;factors<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'factor_exposure',&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;=&nbsp;np.matrix([[1.2,1.3],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[2.3,1.4],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1.4,0.9],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[3.4,1.2]]),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lower&nbsp;=&nbsp;[0.8,1.4],&nbsp;upper&nbsp;=&nbsp;[2,2.4])</tt></dd></dl>
 <dl><dt><a name="-fn_map"><strong>fn_map</strong></a>(weights, portfolio, relax<font color="#909090">=False</font>, verbose<font color="#909090">=False</font>)</dt><dd><tt>This&nbsp;function&nbsp;transforms&nbsp;list&nbsp;of&nbsp;weights&nbsp;that&nbsp;does&nbsp;not&nbsp;meet&nbsp;the&nbsp;portfolio&nbsp;constraints&nbsp;to&nbsp;an&nbsp;array&nbsp;that&nbsp;meets<br>
the&nbsp;constraints.&nbsp;relax&nbsp;argument&nbsp;(default&nbsp;=&nbsp;False)&nbsp;if&nbsp;True&nbsp;gives&nbsp;the&nbsp;function&nbsp;permission&nbsp;to&nbsp;transform&nbsp;weights&nbsp;<br>
if&nbsp;needed<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;initial&nbsp;weights.<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.<br>
relax&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
verbose&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;the&nbsp;array&nbsp;of&nbsp;weights&nbsp;tranformed&nbsp;by&nbsp;the&nbsp;function&nbsp;and&nbsp;that&nbsp;does&nbsp;satisfy&nbsp;the&nbsp;constraints.<br>
called&nbsp;by&nbsp;optimize_portfolio&nbsp;if&nbsp;optimize_method&nbsp;=&nbsp;'DEoptim'&nbsp;or&nbsp;'pso'</tt></dd></dl>
 <dl><dt><a name="-generate_sequence"><strong>generate_sequence</strong></a>(minimum<font color="#909090">=0.01</font>, maximum<font color="#909090">=1.01</font>, by<font color="#909090">=0.01</font>, rounding<font color="#909090">=3</font>)</dt><dd><tt>The&nbsp;sequence&nbsp;of&nbsp;min&lt;-&gt;max&nbsp;weights&nbsp;for&nbsp;random.<br>
&nbsp;<br>
Creating&nbsp;a&nbsp;series&nbsp;of&nbsp;potential&nbsp;weights&nbsp;for&nbsp;portfolios&nbsp;of&nbsp;random&nbsp;or&nbsp;brute&nbsp;force.<br>
&nbsp;<br>
Parameters<br>
----------<br>
minimum&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;minimum&nbsp;value&nbsp;&nbsp;&nbsp;<br>
maximum&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;maximum&nbsp;value<br>
by&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;to&nbsp;increase&nbsp;the&nbsp;series&nbsp;by<br>
rounding&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;integer&nbsp;the&nbsp;number&nbsp;of&nbsp;decimals&nbsp;we&nbsp;can&nbsp;round&nbsp;to<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;a&nbsp;series&nbsp;of&nbsp;ranfom&nbsp;weights&nbsp;that&nbsp;satisfy&nbsp;the&nbsp;min-max&nbsp;weights&nbsp;constraint.&nbsp;<br>
Default&nbsp;weight_seq&nbsp;for&nbsp;rp_transform</tt></dd></dl>
 <dl><dt><a name="-get_constraints"><strong>get_constraints</strong></a>(portfolio)</dt><dd><tt>Helper&nbsp;functionality&nbsp;to&nbsp;get&nbsp;the&nbsp;constraints&nbsp;allowed&nbsp;out&nbsp;of&nbsp;the&nbsp;portfolio&nbsp;object&nbsp;<br>
&nbsp;<br>
Parameters<br>
----------<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;dictionary&nbsp;of&nbsp;constraints&nbsp;extracted&nbsp;from&nbsp;the&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(3)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('dollar_neutral')<br>
&gt;&gt;&gt;&nbsp;get_constraint(port)</tt></dd></dl>
 <dl><dt><a name="-group_constraint"><strong>group_constraint</strong></a>(assets, groups, group_min, group_max, kind<font color="#909090">='group'</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=False</font>)</dt><dd><tt>Group&nbsp;constraints&nbsp;determine&nbsp;the&nbsp;grouping&nbsp;of&nbsp;assets,&nbsp;group&nbsp;weights,<br>
and&nbsp;the&nbsp;number&nbsp;of&nbsp;positions&nbsp;of&nbsp;the&nbsp;groups&nbsp;(i.e.&nbsp;non-zero&nbsp;weights).<br>
&nbsp;<br>
Parameters<br>
----------&nbsp;&nbsp;<br>
assets&nbsp;:&nbsp;Int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number&nbsp;of&nbsp;assets&nbsp;or,&nbsp;as&nbsp;an&nbsp;alternative,&nbsp;a&nbsp;named&nbsp;asset&nbsp;list&nbsp;specifying&nbsp;initial&nbsp;weights.<br>
groups&nbsp;:&nbsp;Dict,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dictionary&nbsp;specifying&nbsp;the&nbsp;assets&nbsp;groups.<br>
group_min&nbsp;:&nbsp;float,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numeric&nbsp;or&nbsp;named&nbsp;list&nbsp;defining&nbsp;the&nbsp;minimum&nbsp;constraints&nbsp;of&nbsp;the&nbsp;weight&nbsp;group.&nbsp;<br>
group_max&nbsp;:&nbsp;float,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numeric&nbsp;or&nbsp;named&nbsp;list&nbsp;defining&nbsp;the&nbsp;maximum&nbsp;constraints&nbsp;of&nbsp;the&nbsp;weight&nbsp;group.<br>
kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;of&nbsp;kind&nbsp;of&nbsp;constraint.&nbsp;&nbsp;&nbsp;&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;group&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_constraints<br>
box_constraints<br>
group_constraints<br>
weight_sum_constraint<br>
turnover_constraint<br>
diversification_constraint<br>
position_limit_constraint<br>
return_constraint<br>
factor_exposure_constraint<br>
transaction_cost_constraint<br>
leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'group',&nbsp;group_min&nbsp;=&nbsp;[0.9,&nbsp;-0.5,-0.5,&nbsp;0.1],&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;group_max&nbsp;=1,&nbsp;groups&nbsp;=&nbsp;{'eqity':[0,3],&nbsp;'debt':[1,2]})</tt></dd></dl>
 <dl><dt><a name="-group_fail"><strong>group_fail</strong></a>(weights, groups<font color="#909090">=None</font>, cLO<font color="#909090">=None</font>, cUP<font color="#909090">=None</font>, group_pos<font color="#909090">=None</font>)</dt><dd><tt>The&nbsp;role&nbsp;loops&nbsp;through&nbsp;each&nbsp;group&nbsp;and&nbsp;checks&nbsp;if&nbsp;the&nbsp;cLO&nbsp;or&nbsp;cUP&nbsp;for&nbsp;the&nbsp;given&nbsp;group&nbsp;has&nbsp;been&nbsp;breached.<br>
This&nbsp;is&nbsp;a&nbsp;rp_transform&nbsp;helper&nbsp;feature.<br>
Test&nbsp;if&nbsp;group&nbsp;limits&nbsp;have&nbsp;been&nbsp;breached.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;the&nbsp;list&nbsp;of&nbsp;weights<br>
groups&nbsp;:&nbsp;dict,<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;defining&nbsp;the&nbsp;asset&nbsp;classes.&nbsp;similar&nbsp;in&nbsp;group_constraint.<br>
cLO&nbsp;:&nbsp;float,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Specifying&nbsp;minimum&nbsp;weight&nbsp;group&nbsp;constraints&nbsp;by&nbsp;numeric&nbsp;or&nbsp;vector.<br>
cUP&nbsp;:&nbsp;float,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Specifying&nbsp;maximum&nbsp;weight&nbsp;group&nbsp;constraints&nbsp;by&nbsp;numeric&nbsp;or&nbsp;vector.<br>
group_pos&nbsp;:&nbsp;array-like,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;list&nbsp;that&nbsp;defines&nbsp;the&nbsp;number&nbsp;of&nbsp;non-zero&nbsp;weights&nbsp;for&nbsp;each&nbsp;category.<br>
&nbsp;<br>
Returns<br>
-------<br>
Bool&nbsp;returning&nbsp;"True"&nbsp;if&nbsp;group&nbsp;weights&nbsp;are&nbsp;breached</tt></dd></dl>
 <dl><dt><a name="-inverse_volatility_weights"><strong>inverse_volatility_weights</strong></a>(R, portfoio, **kwargs)</dt><dd><tt>Function&nbsp;to&nbsp;calculate&nbsp;objective_measure&nbsp;of&nbsp;inverse&nbsp;volatility&nbsp;portfolio<br>
&nbsp;<br>
Parameters<br>
----------<br>
R&nbsp;:&nbsp;pd.DataFrame,<br>
&nbsp;&nbsp;&nbsp;&nbsp;dataframe&nbsp;of&nbsp;returns&nbsp;of&nbsp;assets&nbsp;in&nbsp;portfolio<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;&nbsp;<br>
kwargs&nbsp;:&nbsp;additional&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
&nbsp;<br>
Returns<br>
-------<br>
dictionary&nbsp;of&nbsp;objective&nbsp;measures&nbsp;of&nbsp;inverse&nbsp;volatility&nbsp;portfolio<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
equal_weight<br>
inverse_volatility_weight&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;inverse_volatility_weight(R,&nbsp;portfolio)</tt></dd></dl>
 <dl><dt><a name="-leverage_exposure_constraint"><strong>leverage_exposure_constraint</strong></a>(assets, leverage, kind<font color="#909090">='leverage_exposure'</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=True</font>)</dt><dd><tt>A&nbsp;maximum&nbsp;leverage&nbsp;where&nbsp;leverage&nbsp;is&nbsp;stated&nbsp;as&nbsp;the&nbsp;total&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;weights<br>
is&nbsp;determined&nbsp;under&nbsp;the&nbsp;leverage_exposure&nbsp;constraint.&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
Parameters<br>
----------<br>
assets&nbsp;:&nbsp;int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leverage&nbsp;:&nbsp;maximum&nbsp;leverage&nbsp;value<br>
kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;of&nbsp;kind&nbsp;of&nbsp;constraints&nbsp;&nbsp;&nbsp;&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;leverage_exposure&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_constraints<br>
box_constraints<br>
group_constraints<br>
weight_sum_constraint<br>
turnover_constraint<br>
diversification_constraint<br>
position_limit_constraint<br>
return_constraint<br>
factor_exposure_constraint<br>
transaction_cost_constraint<br>
leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;#constraint&nbsp;on&nbsp;the&nbsp;leverage&nbsp;of&nbsp;portfolio<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'leverage_exposure',&nbsp;leverage&nbsp;=&nbsp;0.8)</tt></dd></dl>
 <dl><dt><a name="-leverage_fail"><strong>leverage_fail</strong></a>(weights, leverage<font color="#909090">=None</font>)</dt><dd><tt>It&nbsp;is&nbsp;used&nbsp;by&nbsp;rp_transform&nbsp;as&nbsp;a&nbsp;helper&nbsp;function&nbsp;to&nbsp;test&nbsp;if&nbsp;leverage&nbsp;constraint&nbsp;is&nbsp;breached.<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;the&nbsp;list&nbsp;of&nbsp;weights.<br>
leverage&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;specify&nbsp;the&nbsp;leverage&nbsp;the&nbsp;portfolio&nbsp;must&nbsp;satisfy<br>
&nbsp;<br>
Returns<br>
-------<br>
Returns&nbsp;"True"&nbsp;if&nbsp;the&nbsp;weights&nbsp;fail&nbsp;the&nbsp;leverage_exposure&nbsp;constraint.&nbsp;Called&nbsp;by&nbsp;rp_transform.&nbsp;see&nbsp;rp_transform.<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
pos_limit_fail<br>
rp_transform</tt></dd></dl>
 <dl><dt><a name="-max_sum_fail"><strong>max_sum_fail</strong></a>(weights, max_sum<font color="#909090">=None</font>)</dt><dd><tt>it&nbsp;is&nbsp;used&nbsp;by&nbsp;rp_transform&nbsp;as&nbsp;a&nbsp;helper&nbsp;function&nbsp;to&nbsp;test&nbsp;if&nbsp;max_sum&nbsp;constraint&nbsp;is&nbsp;breached.<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;the&nbsp;list&nbsp;of&nbsp;weights<br>
max_sum&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;max_sum&nbsp;of&nbsp;the&nbsp;weights&nbsp;of&nbsp;portfolio<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Returns&nbsp;"True"&nbsp;if&nbsp;the&nbsp;weights&nbsp;fail&nbsp;the&nbsp;max_sum&nbsp;constraint.&nbsp;Called&nbsp;by&nbsp;rp_transform.&nbsp;see&nbsp;rp_transform.<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
fn_map,&nbsp;rp_transform</tt></dd></dl>
 <dl><dt><a name="-min_sum_fail"><strong>min_sum_fail</strong></a>(weights, min_sum<font color="#909090">=None</font>)</dt><dd><tt>it&nbsp;is&nbsp;used&nbsp;by&nbsp;rp_transform&nbsp;as&nbsp;a&nbsp;helper&nbsp;function&nbsp;to&nbsp;test&nbsp;if&nbsp;min_sum&nbsp;constraint&nbsp;is&nbsp;breached.<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;the&nbsp;list&nbsp;of&nbsp;weights<br>
min_sum&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;max_sum&nbsp;of&nbsp;the&nbsp;weights&nbsp;of&nbsp;portfolio<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Returns&nbsp;"True"&nbsp;if&nbsp;the&nbsp;weights&nbsp;fail&nbsp;the&nbsp;min_sum&nbsp;constraint.&nbsp;Called&nbsp;by&nbsp;rp_transform.&nbsp;see&nbsp;rp_transform.<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
fn_map,&nbsp;rp_transform</tt></dd></dl>
 <dl><dt><a name="-minmax_objective"><strong>minmax_objective</strong></a>(name, minimum, maximum, multiplier<font color="#909090">=1</font>, arguments<font color="#909090">=None</font>, target<font color="#909090">=None</font>, enabled<font color="#909090">=True</font>)</dt><dd><tt>This&nbsp;target&nbsp;allows&nbsp;to&nbsp;determine&nbsp;min&nbsp;and&nbsp;max&nbsp;goals.<br>
Constructor&nbsp;for&nbsp;the&nbsp;tmp_minmax_objective.<br>
&nbsp;<br>
Parameters<br>
----------<br>
name&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;target&nbsp;name&nbsp;should&nbsp;correspond&nbsp;to&nbsp;a&nbsp;feature,&nbsp;although&nbsp;we&nbsp;will&nbsp;attempt&nbsp;to&nbsp;make&nbsp;allowances.<br>
minimum&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;minimum&nbsp;value<br>
maximum&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;value<br>
multiplier&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Multiplier&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;target,&nbsp;typically&nbsp;1&nbsp;or&nbsp;-1.<br>
arguments&nbsp;:&nbsp;dict,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Default&nbsp;arguments&nbsp;to&nbsp;be&nbsp;transferred&nbsp;when&nbsp;executed&nbsp;on&nbsp;an&nbsp;objective&nbsp;function.<br>
target&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Univariate&nbsp;goal&nbsp;for&nbsp;the&nbsp;target.<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;minmax_objective&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_objectives<br>
portfolio_risk_objectives<br>
risk_budget_objective<br>
turnover_objective<br>
minmax_objective<br>
weight_constraint_objective<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('long_only')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('full_investment')<br>
&gt;&gt;&gt;&nbsp;#adding&nbsp;objectives<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'risk',&nbsp;name&nbsp;=&nbsp;'std',&nbsp;target&nbsp;=&nbsp;0.015)<br>
NOTE:&nbsp;you&nbsp;can&nbsp;add&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;other&nbsp;kind&nbsp;of&nbsp;objective&nbsp;in&nbsp;similar&nbsp;methd.&nbsp;See&nbsp;add_objective</tt></dd></dl>
 <dl><dt><a name="-normalize_weights"><strong>normalize_weights</strong></a>(weights)</dt><dd><tt>Add&nbsp;a&nbsp;constraint&nbsp;in&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
&nbsp;<br>
Main&nbsp;function&nbsp;to&nbsp;add&nbsp;or&nbsp;update&nbsp;constraint&nbsp;in&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;weights&nbsp;to&nbsp;normalize&nbsp;based&nbsp;on&nbsp;constraints.<br>
&nbsp;<br>
Returns<br>
-------<br>
Returns&nbsp;array&nbsp;of&nbsp;normalized&nbsp;weights.&nbsp;Called&nbsp;be&nbsp;optimize_portfolio&nbsp;when&nbsp;optimize_method&nbsp;is:<br>
'pso',&nbsp;'dual_annealing',&nbsp;'shgo',&nbsp;'basinhopping',&nbsp;'brute'.</tt></dd></dl>
 <dl><dt><a name="-optimize_portfolio"><strong>optimize_portfolio</strong></a>(R, portfolio<font color="#909090">=None</font>, constraints<font color="#909090">=None</font>, objectives<font color="#909090">=None</font>, optimize_method<font color="#909090">=['pso', 'DEoptim', 'dual_annealing', 'brute', 'shgo', 'basinhopping', 'best']</font>, search_size<font color="#909090">=20000</font>, trace<font color="#909090">=False</font>, message<font color="#909090">=False</font>, **kwargs)</dt><dd><tt>This&nbsp;function&nbsp;is&nbsp;calls&nbsp;the&nbsp;portfolio&nbsp;to&nbsp;optimize&nbsp;the&nbsp;weights&nbsp;given&nbsp;the&nbsp;constrained&nbsp;and&nbsp;objectives&nbsp;of&nbsp;portfolio<br>
provided&nbsp;using&nbsp;add_constraint&nbsp;and&nbsp;add_objective&nbsp;functions.<br>
&nbsp;<br>
Main&nbsp;function&nbsp;to&nbsp;optimize&nbsp;portfolio&nbsp;weights&nbsp;given&nbsp;the&nbsp;constraints&nbsp;and&nbsp;objectives<br>
&nbsp;<br>
Parameters<br>
----------<br>
R&nbsp;:&nbsp;pandas&nbsp;dataframe,<br>
&nbsp;&nbsp;&nbsp;&nbsp;dataframe&nbsp;of&nbsp;the&nbsp;series&nbsp;of&nbsp;returns<br>
portfolio&nbsp;:&nbsp;<a href="#portfolio_spec">portfolio_spec</a>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;object&nbsp;of&nbsp;class&nbsp;<a href="#portfolio_spec">portfolio_spec</a>.&nbsp;<br>
constraints&nbsp;:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;constraints&nbsp;to&nbsp;be&nbsp;minimized/maximized&nbsp;given&nbsp;the&nbsp;assets.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Although&nbsp;they&nbsp;are&nbsp;automatically&nbsp;called&nbsp;if&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object&nbsp;has&nbsp;constraints&nbsp;specified<br>
objectives&nbsp;:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;objectives&nbsp;to&nbsp;be&nbsp;minimized/maximized&nbsp;given&nbsp;the&nbsp;assets.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Although&nbsp;they&nbsp;are&nbsp;automatically&nbsp;called&nbsp;if&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object&nbsp;has&nbsp;objectives&nbsp;specified<br>
optimize_method&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;method&nbsp;for&nbsp;optimizing&nbsp;portfolio.&nbsp;currently&nbsp;supported&nbsp;methods&nbsp;are:<br>
&nbsp;&nbsp;&nbsp;&nbsp;'pso'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'DEoptim'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'dual_annealing'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'brute'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'shgo'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'basinhopping'<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;can&nbsp;also&nbsp;specify&nbsp;'best'&nbsp;as&nbsp;optimize_method&nbsp;to&nbsp;use&nbsp;all&nbsp;optimizer&nbsp;and&nbsp;choose&nbsp;the&nbsp;best&nbsp;among&nbsp;them.<br>
search_size:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;specify&nbsp;th&nbsp;iterations&nbsp;to&nbsp;do&nbsp;before&nbsp;calling&nbsp;the&nbsp;best&nbsp;portfolio&nbsp;&nbsp;&nbsp;&nbsp;<br>
trace&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;trace&nbsp;of&nbsp;portfolio.<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
kwargs&nbsp;:&nbsp;additional&nbsp;key&nbsp;word&nbsp;arguments,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;additional&nbsp;constraint&nbsp;argument&nbsp;to&nbsp;be&nbsp;passed.<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;the&nbsp;optimal&nbsp;weights,&nbsp;objective&nbsp;measure,&nbsp;value&nbsp;of&nbsp;the&nbsp;best&nbsp;optimization&nbsp;(out).&nbsp;automatically&nbsp;adds&nbsp;weights<br>
to&nbsp;the&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;objects.<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
<a href="#portfolio_spec">portfolio_spec</a><br>
add_constraint<br>
add_objective<br>
&nbsp;<br>
Notes<br>
-----<br>
currently&nbsp;suuported&nbsp;optimization&nbsp;methods&nbsp;are:<br>
&nbsp;&nbsp;&nbsp;&nbsp;'pso'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'DEoptim'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'dual_annealing'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'brute'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'shgo'<br>
&nbsp;&nbsp;&nbsp;&nbsp;'basinhopping'<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
The&nbsp;function&nbsp;calls&nbsp;constrained_objective&nbsp;to&nbsp;minimize&nbsp;the&nbsp;penalty&nbsp;(default&nbsp;=&nbsp;10000)&nbsp;to&nbsp;come&nbsp;to&nbsp;a&nbsp;solution.<br>
the&nbsp;purpose&nbsp;of&nbsp;adding&nbsp;different&nbsp;optimization&nbsp;method&nbsp;is&nbsp;to&nbsp;give&nbsp;flexibility&nbsp;to&nbsp;user&nbsp;to&nbsp;choose&nbsp;optimizer&nbsp;based&nbsp;on<br>
specific&nbsp;problem.<br>
&nbsp;<br>
Additional&nbsp;arguments&nbsp;can&nbsp;be&nbsp;specified&nbsp;such&nbsp;as&nbsp;maxiter,&nbsp;disp&nbsp;and&nbsp;other&nbsp;controls.&nbsp;the&nbsp;argument&nbsp;names&nbsp;are&nbsp;similar&nbsp;in<br>
scipy.optimize.[optimizer]&nbsp;or&nbsp;pyswarms.&nbsp;see&nbsp;scipy&nbsp;and&nbsp;pyswarm&nbsp;documentation.<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('long_only')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('full_investment')<br>
&gt;&gt;&gt;&nbsp;#adding&nbsp;objectives<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'return',&nbsp;name&nbsp;=&nbsp;'mean',&nbsp;target&nbsp;=&nbsp;0.0018)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'portfolio_risk',&nbsp;name&nbsp;=&nbsp;'std',&nbsp;target&nbsp;=&nbsp;0.015)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'risk_budget',&nbsp;name&nbsp;=&nbsp;'risk_budget')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'weight_conc',&nbsp;name&nbsp;=&nbsp;'HHI',&nbsp;target&nbsp;=&nbsp;0.11)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;'sharpe',&nbsp;target&nbsp;=&nbsp;0.13)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;add&nbsp;a&nbsp;custom&nbsp;objective&nbsp;by&nbsp;first&nbsp;defining&nbsp;it.<br>
&gt;&gt;&gt;&nbsp;def&nbsp;sortino_ratio(w,R):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#SOME&nbsp;CODE<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;{'sortino':sortino_ratio},&nbsp;target&nbsp;=&nbsp;0.35)<br>
NOTE:&nbsp;The&nbsp;output&nbsp;of&nbsp;sortino_ratio&nbsp;or&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;objective&nbsp;must&nbsp;be&nbsp;a&nbsp;float.<br>
NOTE:&nbsp;you&nbsp;can&nbsp;also&nbsp;add&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;other&nbsp;kind&nbsp;of&nbsp;objective&nbsp;in&nbsp;similar&nbsp;methd.<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;<a href="#-optimize_portfolio">optimize_portfolio</a>(R,&nbsp;port,&nbsp;optimize_method&nbsp;&nbsp;=&nbsp;'DEoptim',&nbsp;disp&nbsp;=&nbsp;False,&nbsp;search_size&nbsp;=&nbsp;30000)<br>
NOTE:&nbsp;Yout&nbsp;can&nbsp;provide&nbsp;addional&nbsp;adguments&nbsp;based&nbsp;on&nbsp;solver.&nbsp;See&nbsp;the&nbsp;solver&nbsp;documentation&nbsp;for&nbsp;more&nbsp;information.<br>
&gt;&gt;&gt;&nbsp;#&nbsp;we&nbsp;have&nbsp;used&nbsp;scipy.optimize&nbsp;for&nbsp;most&nbsp;of&nbsp;the&nbsp;solver&nbsp;and&nbsp;pyswarms&nbsp;for&nbsp;'pso'&nbsp;method.<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;<a href="#-optimize_portfolio">optimize_portfolio</a>(R,&nbsp;port,&nbsp;optimize_method&nbsp;&nbsp;=&nbsp;'best',&nbsp;disp&nbsp;=&nbsp;False,&nbsp;maxiter&nbsp;=&nbsp;1000)<br>
NOTE:&nbsp;'best'&nbsp;optimize_method&nbsp;takes&nbsp;a&nbsp;while&nbsp;to&nbsp;give&nbsp;ouput&nbsp;because&nbsp;it&nbsp;uses&nbsp;all&nbsp;other&nbsp;optimizers.</tt></dd></dl>
 <dl><dt><a name="-performance_metrics_objective"><strong>performance_metrics_objective</strong></a>(name, arguments, target<font color="#909090">=None</font>, multiplier<font color="#909090">=1</font>, enabled<font color="#909090">=True</font>)</dt><dd><tt>We'll&nbsp;try&nbsp;minimizing&nbsp;the&nbsp;performance_metric&nbsp;if&nbsp;the&nbsp;target&nbsp;is&nbsp;null.&nbsp;&nbsp;&nbsp;&nbsp;<br>
Constructor&nbsp;for&nbsp;the&nbsp;portfolio_risk_objective&nbsp;class.<br>
&nbsp;<br>
Parameters<br>
----------<br>
name&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;target&nbsp;name&nbsp;should&nbsp;correspond&nbsp;to&nbsp;a&nbsp;feature,&nbsp;although&nbsp;we&nbsp;will&nbsp;attempt&nbsp;to&nbsp;make&nbsp;allowances<br>
target&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Univariate&nbsp;goal&nbsp;for&nbsp;the&nbsp;target.<br>
arguments&nbsp;:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Default&nbsp;arguments&nbsp;to&nbsp;be&nbsp;transferred&nbsp;when&nbsp;executed&nbsp;on&nbsp;an&nbsp;objective&nbsp;function.<br>
multiplier&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Multiplier&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;target,&nbsp;typically&nbsp;1&nbsp;or&nbsp;-1.<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;portfolio&nbsp;risk&nbsp;objectives&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_objectives<br>
portfolio_risk_objectives<br>
risk_budget_objective<br>
turnover_objective<br>
minmax_objective<br>
weight_constraint_objective<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('long_only')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('full_investment')<br>
&gt;&gt;&gt;&nbsp;#adding&nbsp;objectives<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;'sharpe',&nbsp;target&nbsp;=&nbsp;0.13)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;add&nbsp;a&nbsp;custom&nbsp;objective&nbsp;by&nbsp;first&nbsp;defining&nbsp;it.<br>
&gt;&gt;&gt;&nbsp;def&nbsp;sortino_ratio(w,R):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#SOME&nbsp;CODE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;{'sortino':sortino_ratio},&nbsp;target&nbsp;=&nbsp;0.35)<br>
NOTE:&nbsp;The&nbsp;output&nbsp;of&nbsp;sortino_ratio&nbsp;or&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;objective&nbsp;must&nbsp;be&nbsp;a&nbsp;float.<br>
NOTE:&nbsp;you&nbsp;can&nbsp;also&nbsp;add&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;other&nbsp;kind&nbsp;of&nbsp;objective&nbsp;in&nbsp;similar&nbsp;methd.</tt></dd></dl>
 <dl><dt><a name="-port_mean"><strong>port_mean</strong></a>(weights, mu)</dt><dd><tt>Add&nbsp;a&nbsp;constraint&nbsp;in&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
Main&nbsp;function&nbsp;to&nbsp;add&nbsp;or&nbsp;update&nbsp;constraint&nbsp;in&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;object<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;weights&nbsp;of&nbsp;the&nbsp;portfolio.<br>
mu&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;mean&nbsp;return&nbsp;of&nbsp;assets<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;port&nbsp;mean&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
Notes<br>
-----<br>
&nbsp;<br>
\mu_{p}&nbsp;=&nbsp;w&nbsp;.&nbsp;\mu_{r}<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
var_portfolio<br>
VaR<br>
cVaR<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;#calculate&nbsp;the&nbsp;portfolio&nbsp;mean&nbsp;return<br>
&gt;&gt;&gt;&nbsp;w&nbsp;=&nbsp;[0.2,0.3,-0.1,0.6,0.8]<br>
&gt;&gt;&gt;&nbsp;<a href="#-port_mean">port_mean</a>(w,R)</tt></dd></dl>
 <dl><dt><a name="-portfolio_risk_objective"><strong>portfolio_risk_objective</strong></a>(name, target, arguments, multiplier<font color="#909090">=-1</font>, enabled<font color="#909090">=True</font>)</dt><dd><tt>We'll&nbsp;try&nbsp;minimizing&nbsp;the&nbsp;risk&nbsp;metric&nbsp;if&nbsp;the&nbsp;target&nbsp;is&nbsp;null.&nbsp;&nbsp;&nbsp;&nbsp;<br>
Constructor&nbsp;for&nbsp;the&nbsp;portfolio_risk_objective&nbsp;class.<br>
&nbsp;<br>
Parameters<br>
----------<br>
name&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;target&nbsp;name&nbsp;should&nbsp;correspond&nbsp;to&nbsp;a&nbsp;feature,&nbsp;although&nbsp;we&nbsp;will&nbsp;attempt&nbsp;to&nbsp;make&nbsp;allowances<br>
target&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Univariate&nbsp;goal&nbsp;for&nbsp;the&nbsp;target.<br>
arguments&nbsp;:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Default&nbsp;arguments&nbsp;to&nbsp;be&nbsp;transferred&nbsp;when&nbsp;executed&nbsp;on&nbsp;an&nbsp;objective&nbsp;function.<br>
multiplier&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Multiplier&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;target,&nbsp;typically&nbsp;1&nbsp;or&nbsp;-1.<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;portfolio&nbsp;risk&nbsp;objectives&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
&nbsp;<br>
add_objectives<br>
portfolio_risk_objectives<br>
risk_budget_objective<br>
turnover_objective<br>
minmax_objective<br>
weight_constraint_objective<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('long_only')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('full_investment')<br>
&gt;&gt;&gt;&nbsp;#adding&nbsp;objectives<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'portfolio_risk',&nbsp;name&nbsp;=&nbsp;'std',&nbsp;target&nbsp;=&nbsp;0.015)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;add&nbsp;a&nbsp;custom&nbsp;objective&nbsp;by&nbsp;first&nbsp;defining&nbsp;it.<br>
&gt;&gt;&gt;&nbsp;def&nbsp;sortino_ratio(w,R):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#SOME&nbsp;CODE<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;{'sortino':sortino_ratio},&nbsp;target&nbsp;=&nbsp;0.35)<br>
NOTE:&nbsp;The&nbsp;output&nbsp;of&nbsp;sortino_ratio&nbsp;or&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;objective&nbsp;must&nbsp;be&nbsp;a&nbsp;float.<br>
NOTE:&nbsp;you&nbsp;can&nbsp;also&nbsp;add&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;other&nbsp;kind&nbsp;of&nbsp;objective&nbsp;in&nbsp;similar&nbsp;methd.</tt></dd></dl>
 <dl><dt><a name="-pos_limit_fail"><strong>pos_limit_fail</strong></a>(weights, max_pos<font color="#909090">=None</font>, max_pos_long<font color="#909090">=None</font>, max_pos_short<font color="#909090">=None</font>)</dt><dd><tt>This&nbsp;is&nbsp;used&nbsp;as&nbsp;a&nbsp;rp_transform&nbsp;helper&nbsp;function&nbsp;to&nbsp;search&nbsp;for&nbsp;position&nbsp;limit&nbsp;constraints&nbsp;being&nbsp;violated.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
Parameters<br>
----------<br>
&nbsp;<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;list&nbsp;of&nbsp;weights.<br>
max_pos&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;number&nbsp;of&nbsp;non-zero-weighted&nbsp;assets<br>
max_pos_long&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;number&nbsp;of&nbsp;long-position&nbsp;assets<br>
max_pos_short&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;number&nbsp;of&nbsp;short-position&nbsp;assets<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Returns&nbsp;"True"&nbsp;if&nbsp;the&nbsp;weights&nbsp;fail&nbsp;the&nbsp;pos_limit&nbsp;constraint.&nbsp;called&nbsp;by&nbsp;rp_transform.&nbsp;see&nbsp;rp_transform.</tt></dd></dl>
 <dl><dt><a name="-position_limit_constraint"><strong>position_limit_constraint</strong></a>(assets, max_pos<font color="#909090">=None</font>, kind<font color="#909090">='position'</font>, max_pos_long<font color="#909090">=None</font>, max_pos_short<font color="#909090">=None</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=True</font>)</dt><dd><tt>&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;type=”position_limit”&nbsp;is&nbsp;mentioned,&nbsp;this&nbsp;function&nbsp;is&nbsp;called&nbsp;by&nbsp;add.constraint.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;maximum&nbsp;number&nbsp;of&nbsp;positions&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;maximum&nbsp;number&nbsp;of&nbsp;long&nbsp;and&nbsp;short&nbsp;positions<br>
&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;determined&nbsp;by&nbsp;the&nbsp;user&nbsp;using&nbsp;this&nbsp;function.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Parameters<br>
&nbsp;&nbsp;&nbsp;&nbsp;----------<br>
&nbsp;&nbsp;&nbsp;&nbsp;assets&nbsp;:&nbsp;int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;named&nbsp;list&nbsp;of&nbsp;assets&nbsp;determining&nbsp;initial&nbsp;weights.<br>
&nbsp;&nbsp;&nbsp;&nbsp;max_pos&nbsp;:&nbsp;int,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;number&nbsp;of&nbsp;assets&nbsp;with&nbsp;non-zero&nbsp;weights.<br>
&nbsp;&nbsp;&nbsp;&nbsp;kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;of&nbsp;kind&nbsp;of&nbsp;constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;max_pos_long&nbsp;:&nbsp;Int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;number&nbsp;of&nbsp;assets&nbsp;with&nbsp;long&nbsp;positions.<br>
&nbsp;&nbsp;&nbsp;&nbsp;max_pos_short&nbsp;:&nbsp;Int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;number&nbsp;of&nbsp;assets&nbsp;with&nbsp;short&nbsp;positions.<br>
&nbsp;&nbsp;&nbsp;&nbsp;enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Returns<br>
&nbsp;&nbsp;&nbsp;&nbsp;-------<br>
&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;position_limit&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;Also<br>
&nbsp;&nbsp;&nbsp;&nbsp;--------<br>
&nbsp;&nbsp;&nbsp;&nbsp;add_constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;box_constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;group_constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;weight_sum_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;turnover_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;diversification_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;position_limit_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;return_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;factor_exposure_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;transaction_cost_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Examples<br>
&nbsp;&nbsp;&nbsp;&nbsp;--------<br>
&gt;&gt;&gt;&nbsp;#position_limit&nbsp;is&nbsp;a&nbsp;constraint&nbsp;to&nbsp;restrict&nbsp;max&nbsp;position&nbsp;and&nbsp;also&nbsp;max&nbsp;long/short&nbsp;positions<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'position_limit',&nbsp;max_pos&nbsp;=&nbsp;3,&nbsp;max_pos_long&nbsp;=&nbsp;2,&nbsp;max_pos_short&nbsp;=&nbsp;2)</tt></dd></dl>
 <dl><dt><a name="-return_constraint"><strong>return_constraint</strong></a>(assets, return_target, kind<font color="#909090">='return'</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=False</font>)</dt><dd><tt>Target&nbsp;mean&nbsp;return&nbsp;value&nbsp;is&nbsp;determined&nbsp;by&nbsp;the&nbsp;return&nbsp;constraint.&nbsp;<br>
When&nbsp;type=”return”&nbsp;is&nbsp;mentioned,&nbsp;this&nbsp;function&nbsp;is&nbsp;called&nbsp;by&nbsp;add_constraint.<br>
&nbsp;<br>
Parameters<br>
----------<br>
assets&nbsp;:.&nbsp;int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;named&nbsp;list&nbsp;of&nbsp;assets&nbsp;determining&nbsp;initial&nbsp;weights.<br>
kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;of&nbsp;kind&nbsp;of&nbsp;constraints.&nbsp;&nbsp;&nbsp;&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
messages&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;False<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;return&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
&nbsp;<br>
add_constraints<br>
box_constraints<br>
group_constraints<br>
weight_sum_constraint<br>
turnover_constraint<br>
diversification_constraint<br>
position_limit_constraint<br>
return_constraint<br>
factor_exposure_constraint<br>
transaction_cost_constraint<br>
leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;#return&nbsp;constraint&nbsp;to&nbsp;add&nbsp;a&nbsp;target&nbsp;mean&nbsp;historical&nbsp;return&nbsp;to&nbsp;the&nbsp;portfolio<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'return',&nbsp;return_target&nbsp;=&nbsp;0.0018)</tt></dd></dl>
 <dl><dt><a name="-return_objective"><strong>return_objective</strong></a>(name, target, arguments, multiplier<font color="#909090">=-1</font>, enabled<font color="#909090">=True</font>)</dt><dd><tt>We'll&nbsp;try&nbsp;minimizing&nbsp;the&nbsp;risk&nbsp;metric&nbsp;if&nbsp;the&nbsp;target&nbsp;is&nbsp;null.&nbsp;&nbsp;&nbsp;&nbsp;<br>
Constructor&nbsp;for&nbsp;the&nbsp;portfolio_risk_objective&nbsp;class.<br>
&nbsp;<br>
Parameters<br>
----------<br>
name&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;target&nbsp;name&nbsp;should&nbsp;correspond&nbsp;to&nbsp;a&nbsp;feature,&nbsp;although&nbsp;we&nbsp;will&nbsp;attempt&nbsp;to&nbsp;make&nbsp;allowances<br>
target&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Univariate&nbsp;goal&nbsp;for&nbsp;the&nbsp;target.<br>
arguments&nbsp;:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Default&nbsp;arguments&nbsp;to&nbsp;be&nbsp;transferred&nbsp;when&nbsp;executed&nbsp;on&nbsp;an&nbsp;objective&nbsp;function.<br>
multiplier&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Multiplier&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;target,&nbsp;typically&nbsp;1&nbsp;or&nbsp;-1.<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;return_objective&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_objectives<br>
portfolio_risk_objectives<br>
risk_budget_objective<br>
turnover_objective<br>
minmax_objective<br>
weight_constraint_objective<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('long_only')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('full_investment')<br>
&gt;&gt;&gt;&nbsp;#adding&nbsp;objectives<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'return',&nbsp;name&nbsp;=&nbsp;'mean',&nbsp;target&nbsp;=&nbsp;0.0018)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;add&nbsp;a&nbsp;custom&nbsp;objective&nbsp;by&nbsp;first&nbsp;defining&nbsp;it.<br>
&gt;&gt;&gt;&nbsp;def&nbsp;sortino_ratio(w,R):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#SOME&nbsp;CODE<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;{'sortino':sortino_ratio},&nbsp;target&nbsp;=&nbsp;0.35)<br>
NOTE:&nbsp;The&nbsp;output&nbsp;of&nbsp;sortino_ratio&nbsp;or&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;objective&nbsp;must&nbsp;be&nbsp;a&nbsp;float.<br>
NOTE:&nbsp;you&nbsp;can&nbsp;also&nbsp;add&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;other&nbsp;kind&nbsp;of&nbsp;objective&nbsp;in&nbsp;similar&nbsp;methd.</tt></dd></dl>
 <dl><dt><a name="-risk_budget_objective"><strong>risk_budget_objective</strong></a>(assets, name, min_prisk<font color="#909090">=None</font>, max_prisk<font color="#909090">=None</font>, target<font color="#909090">=None</font>, arguments<font color="#909090">=None</font>, multiplier<font color="#909090">=1</font>, enabled<font color="#909090">=True</font>, min_concentration<font color="#909090">=False</font>, min_difference<font color="#909090">=False</font>)</dt><dd><tt>&nbsp;Constructor&nbsp;for&nbsp;the&nbsp;risk_budget_objective.<br>
&nbsp;<br>
&nbsp;Parameters<br>
&nbsp;----------<br>
&nbsp;assets&nbsp;:&nbsp;int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;asset&nbsp;list&nbsp;to&nbsp;be&nbsp;used&nbsp;should&nbsp;come&nbsp;from&nbsp;object&nbsp;constraints.<br>
&nbsp;name&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;target&nbsp;name&nbsp;should&nbsp;correspond&nbsp;to&nbsp;a&nbsp;feature,&nbsp;although&nbsp;we&nbsp;will&nbsp;attempt&nbsp;to&nbsp;make&nbsp;allowances.<br>
&nbsp;min_prisk&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minimum&nbsp;percentage&nbsp;risk&nbsp;contribution<br>
&nbsp;max_prisk&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;percentage&nbsp;risk&nbsp;contribution<br>
&nbsp;arguments&nbsp;:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default&nbsp;arguments&nbsp;to&nbsp;be&nbsp;transferred&nbsp;when&nbsp;executed&nbsp;on&nbsp;an&nbsp;objective&nbsp;function.<br>
&nbsp;multiplier&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Multiplier&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;target,&nbsp;typically&nbsp;1&nbsp;or&nbsp;-1.<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;Returns<br>
&nbsp;-------<br>
&nbsp;Adds&nbsp;risk&nbsp;budget&nbsp;objective&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
&nbsp;See&nbsp;Also<br>
&nbsp;--------<br>
&nbsp;add_objectives<br>
&nbsp;portfolio_risk_objectives<br>
&nbsp;risk_budget_objective<br>
&nbsp;turnover_objective<br>
&nbsp;minmax_objective<br>
&nbsp;weight_constraint_objective<br>
&nbsp;<br>
Examples<br>
&nbsp;--------<br>
&nbsp;&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&nbsp;&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&nbsp;&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&nbsp;&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&nbsp;&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&nbsp;&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&nbsp;&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&nbsp;&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&nbsp;&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&nbsp;&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('long_only')<br>
&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('full_investment')<br>
&nbsp;&gt;&gt;&gt;&nbsp;#adding&nbsp;objectives<br>
&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'risk_budget',&nbsp;name&nbsp;=&nbsp;'risk_budget')<br>
&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'weight_conc',&nbsp;name&nbsp;=&nbsp;'HHI',&nbsp;target&nbsp;=&nbsp;0.11)<br>
&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;'sharpe',&nbsp;target&nbsp;=&nbsp;0.13)<br>
&nbsp;&gt;&gt;&gt;&nbsp;#&nbsp;add&nbsp;a&nbsp;custom&nbsp;objective&nbsp;by&nbsp;first&nbsp;defining&nbsp;it.<br>
&nbsp;&gt;&gt;&gt;&nbsp;def&nbsp;sortino_ratio(w,R):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#SOME&nbsp;CODE<br>
&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;{'sortino':sortino_ratio},&nbsp;target&nbsp;=&nbsp;0.35)<br>
&nbsp;NOTE:&nbsp;The&nbsp;output&nbsp;of&nbsp;sortino_ratio&nbsp;or&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;objective&nbsp;must&nbsp;be&nbsp;a&nbsp;float.<br>
&nbsp;NOTE:&nbsp;you&nbsp;can&nbsp;also&nbsp;add&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;other&nbsp;kind&nbsp;of&nbsp;objective&nbsp;in&nbsp;similar&nbsp;methd.</tt></dd></dl>
 <dl><dt><a name="-rp_decrease"><strong>rp_decrease</strong></a>(weights, max_sum, min_box, weight_seq)</dt><dd><tt>It&nbsp;is&nbsp;used&nbsp;by&nbsp;rp_transform&nbsp;as&nbsp;a&nbsp;helper&nbsp;function&nbsp;to&nbsp;reduce&nbsp;weights&nbsp;if&nbsp;<br>
max_sum&nbsp;or&nbsp;min_box&nbsp;constraint&nbsp;is&nbsp;breached.<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;of&nbsp;list&nbsp;of&nbsp;weights<br>
max_sum&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;sum&nbsp;of&nbsp;weights<br>
min_box&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;minimum&nbsp;of&nbsp;individual&nbsp;weights&nbsp;in&nbsp;a&nbsp;portfolio<br>
weight_seq&nbsp;:&nbsp;seq,<br>
&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;of&nbsp;random&nbsp;weights&nbsp;to&nbsp;choose&nbsp;from<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;an&nbsp;array&nbsp;of&nbsp;weights&nbsp;that&nbsp;satisfy&nbsp;the&nbsp;max_sum&nbsp;and&nbsp;min_box&nbsp;constraint.&nbsp;called&nbsp;by&nbsp;rp_transform.<br>
&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
rp_increase<br>
rp_transform</tt></dd></dl>
 <dl><dt><a name="-rp_decrease_leverage"><strong>rp_decrease_leverage</strong></a>(weights, max_box, min_box, leverage, weight_seq)</dt><dd><tt>It&nbsp;is&nbsp;used&nbsp;by&nbsp;rp_transform&nbsp;as&nbsp;a&nbsp;helper&nbsp;function&nbsp;to&nbsp;redcrese&nbsp;leverage&nbsp;if&nbsp;<br>
leverage_exposure&nbsp;constraint&nbsp;is&nbsp;breached.<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;of&nbsp;list&nbsp;of&nbsp;weights<br>
max_box&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;of&nbsp;individual&nbsp;weights&nbsp;in&nbsp;a&nbsp;portfolio<br>
min_box&nbsp;:&nbsp;like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;minimum&nbsp;of&nbsp;individual&nbsp;weights&nbsp;in&nbsp;a&nbsp;portfolio<br>
leverage:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;leverage&nbsp;as&nbsp;specified&nbsp;in&nbsp;leverage_exposure&nbsp;constraints<br>
weight_seq&nbsp;:&nbsp;seq,<br>
&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;of&nbsp;random&nbsp;weights&nbsp;to&nbsp;choose&nbsp;from<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;an&nbsp;array&nbsp;of&nbsp;weights&nbsp;that&nbsp;satisfy&nbsp;the&nbsp;leverage&nbsp;constraint.&nbsp;called&nbsp;by&nbsp;rp_transform.<br>
&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
rp_increase<br>
rp_transform</tt></dd></dl>
 <dl><dt><a name="-rp_increase"><strong>rp_increase</strong></a>(weights, min_sum, max_box, weight_seq)</dt><dd><tt>It&nbsp;is&nbsp;used&nbsp;by&nbsp;rp_transform&nbsp;as&nbsp;a&nbsp;helper&nbsp;function&nbsp;to&nbsp;increase&nbsp;weights&nbsp;if&nbsp;<br>
min_sum&nbsp;or&nbsp;max_box&nbsp;constraint&nbsp;is&nbsp;breached.<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;of&nbsp;list&nbsp;of&nbsp;weights<br>
max_sum&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;sum&nbsp;of&nbsp;weights<br>
min_box&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;minimum&nbsp;of&nbsp;individual&nbsp;weights&nbsp;in&nbsp;a&nbsp;portfolio<br>
weight_seq&nbsp;:&nbsp;seq,<br>
&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;of&nbsp;random&nbsp;weights&nbsp;to&nbsp;choose&nbsp;from<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;an&nbsp;array&nbsp;of&nbsp;weights&nbsp;that&nbsp;satisfy&nbsp;the&nbsp;max_sum&nbsp;and&nbsp;min_box&nbsp;constraint.&nbsp;called&nbsp;by&nbsp;rp_transform.<br>
&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
rp_increase<br>
rp_transform</tt></dd></dl>
 <dl><dt><a name="-rp_position_limit"><strong>rp_position_limit</strong></a>(weights, min_box, max_box, weight_seq, max_pos<font color="#909090">=None</font>, max_pos_long<font color="#909090">=None</font>, max_pos_short<font color="#909090">=None</font>)</dt><dd><tt>It&nbsp;is&nbsp;used&nbsp;by&nbsp;rp_transform&nbsp;as&nbsp;a&nbsp;helper&nbsp;function&nbsp;to&nbsp;increase&nbsp;weights&nbsp;if&nbsp;<br>
position_limit&nbsp;constraint&nbsp;is&nbsp;breached.<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;of&nbsp;list&nbsp;of&nbsp;weights<br>
min_box&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;of&nbsp;individual&nbsp;weights&nbsp;in&nbsp;a&nbsp;portfolio<br>
min_box&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;minimum&nbsp;of&nbsp;individual&nbsp;weights&nbsp;in&nbsp;a&nbsp;portfolio<br>
max_pos&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;position&nbsp;to&nbsp;hold&nbsp;in&nbsp;a&nbsp;portfolio<br>
max_pos_long&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;long&nbsp;position&nbsp;to&nbsp;hold&nbsp;in&nbsp;a&nbsp;portfolio<br>
max_pos_short&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;short&nbsp;position&nbsp;to&nbsp;hold&nbsp;in&nbsp;a&nbsp;portfolio<br>
weight_seq&nbsp;:&nbsp;seq,<br>
&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;of&nbsp;random&nbsp;weights&nbsp;to&nbsp;choose&nbsp;from<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;an&nbsp;array&nbsp;of&nbsp;weights&nbsp;that&nbsp;satisfy&nbsp;the&nbsp;position&nbsp;limit&nbsp;constraint.&nbsp;called&nbsp;by&nbsp;rp_transform.<br>
&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
rp_increase<br>
rp_transform<br>
rp_decrease_leverage</tt></dd></dl>
 <dl><dt><a name="-rp_transform"><strong>rp_transform</strong></a>(w, min_sum, max_sum, min_box, max_box, groups<font color="#909090">=None</font>, cLO<font color="#909090">=None</font>, cUP<font color="#909090">=None</font>, group_pos<font color="#909090">=None</font>, max_pos<font color="#909090">=None</font>, max_pos_long<font color="#909090">=None</font>, max_pos_short<font color="#909090">=None</font>, leverage<font color="#909090">=None</font>, weight_seq<font color="#909090">=None</font>, max_permutations<font color="#909090">=2000</font>)</dt><dd><tt>This&nbsp;function&nbsp;is&nbsp;mainly&nbsp;used&nbsp;to&nbsp;transform&nbsp;weights&nbsp;that&nbsp;dont&nbsp;satisfy&nbsp;the&nbsp;constraints&nbsp;such&nbsp;as:<br>
"box"<br>
"group"<br>
"max_pos"<br>
"leverage_exposure"<br>
See&nbsp;add_constraint&nbsp;for&nbsp;more&nbsp;deatils.<br>
&nbsp;<br>
Transform&nbsp;a&nbsp;list&nbsp;of&nbsp;weights&nbsp;to&nbsp;fulfill&nbsp;constraints<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;weights&nbsp;to&nbsp;be&nbsp;transformed<br>
min_sum&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;minimum&nbsp;total&nbsp;of&nbsp;all&nbsp;weights&nbsp;of&nbsp;assets,&nbsp;default&nbsp;of&nbsp;0.99<br>
max_sum&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;total&nbsp;of&nbsp;all&nbsp;weights&nbsp;of&nbsp;assets,&nbsp;default&nbsp;of&nbsp;1.01<br>
min_box&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;numeric&nbsp;or&nbsp;called&nbsp;list&nbsp;defining&nbsp;the&nbsp;minimum&nbsp;constraints&nbsp;of&nbsp;the&nbsp;weight&nbsp;box<br>
max_box&nbsp;:&nbsp;array-like<br>
&nbsp;&nbsp;&nbsp;&nbsp;numeric&nbsp;or&nbsp;called&nbsp;list&nbsp;defining&nbsp;the&nbsp;maximum&nbsp;constraints&nbsp;of&nbsp;the&nbsp;weight&nbsp;box<br>
groups&nbsp;:&nbsp;dict,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;dictionary&nbsp;defining&nbsp;the&nbsp;asset&nbsp;groups.&nbsp;similar&nbsp;to&nbsp;group_constraint.&nbsp;see&nbsp;group_constraint<br>
cLO&nbsp;:&nbsp;flaot,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;or&nbsp;list&nbsp;defining&nbsp;the&nbsp;minimum&nbsp;constraints&nbsp;of&nbsp;the&nbsp;weight&nbsp;group<br>
cUP&nbsp;:&nbsp;float,&nbsp;or&nbsp;array-like<br>
&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;or&nbsp;list&nbsp;defining&nbsp;the&nbsp;minimum&nbsp;constraints&nbsp;of&nbsp;the&nbsp;weight&nbsp;group<br>
group_pos&nbsp;:&nbsp;array-like,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;that&nbsp;specifies&nbsp;the&nbsp;maximum&nbsp;number&nbsp;of&nbsp;non-zero-weight&nbsp;assets&nbsp;per&nbsp;group<br>
max_pos&nbsp;:&nbsp;int,<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;non-zero-weight&nbsp;assets<br>
max_pos_long&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;number&nbsp;of&nbsp;long&nbsp;(i.&nbsp;e.&nbsp;buy)&nbsp;position&nbsp;assets<br>
max_pos_short&nbsp;:&nbsp;int,<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;number&nbsp;of&nbsp;short&nbsp;(i.&nbsp;e.&nbsp;sell)&nbsp;position&nbsp;assets<br>
leverage&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;maximum&nbsp;exposure&nbsp;to&nbsp;leverage&nbsp;in&nbsp;which&nbsp;leverage&nbsp;is&nbsp;defined&nbsp;as&nbsp;sum(abs(weights))<br>
weight_seq&nbsp;:&nbsp;seq,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;seed&nbsp;sequence&nbsp;of&nbsp;weights.&nbsp;uses&nbsp;<a href="#-generate_sequence">generate_sequence</a>()<br>
max_permutations&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;integer-&nbsp;maximum&nbsp;number&nbsp;of&nbsp;iterations&nbsp;to&nbsp;try&nbsp;for&nbsp;a&nbsp;portfolio&nbsp;which&nbsp;is&nbsp;valid,&nbsp;default&nbsp;2000<br>
&nbsp;<br>
Returns<br>
-------<br>
weights&nbsp;array&nbsp;that&nbsp;satisfy&nbsp;the&nbsp;constraints&nbsp;on&nbsp;portfolio<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
rp_increase<br>
rp_decrease<br>
fn_map</tt></dd></dl>
 <dl><dt><a name="-transaction_cost_constraint"><strong>transaction_cost_constraint</strong></a>(assets, ptc, kind<font color="#909090">='transaction'</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=True</font>)</dt><dd><tt>A&nbsp;proportional&nbsp;cost&nbsp;value&nbsp;is&nbsp;determined&nbsp;under&nbsp;the&nbsp;transaction&nbsp;cost&nbsp;constraint.<br>
When&nbsp;type=”transaction_cost”&nbsp;is&nbsp;specified,&nbsp;this&nbsp;function&nbsp;is&nbsp;called&nbsp;by&nbsp;add.constraint.<br>
&nbsp;<br>
Parameters<br>
----------<br>
assets&nbsp;:&nbsp;int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;of&nbsp;assets,&nbsp;or&nbsp;optionally&nbsp;a&nbsp;named&nbsp;list&nbsp;of&nbsp;assets&nbsp;determining&nbsp;initial&nbsp;weights.<br>
ptc&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proportional&nbsp;transaction&nbsp;cost&nbsp;value.&nbsp;&nbsp;<br>
kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;of&nbsp;kind&nbsp;of&nbsp;constraint&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;transaction&nbsp;_cost&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_constraints<br>
box_constraints<br>
group_constraints<br>
weight_sum_constraint<br>
turnover_constraint<br>
diversification_constraint<br>
position_limit_constraint<br>
return_constraint<br>
factor_exposure_constraint<br>
transaction_cost_constraint<br>
leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;#adds&nbsp;a&nbsp;tranaction&nbsp;cost&nbsp;constraint&nbsp;on&nbsp;portfolio<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'transaction_cost',&nbsp;ptc&nbsp;=&nbsp;0.1)</tt></dd></dl>
 <dl><dt><a name="-turnover"><strong>turnover</strong></a>(weights, wgt_init<font color="#909090">=None</font>)</dt><dd><tt>Turnover&nbsp;estimation&nbsp;of&nbsp;two&nbsp;weight&nbsp;lists.<br>
This&nbsp;is&nbsp;used&nbsp;as&nbsp;an&nbsp;objective&nbsp;function&nbsp;and&nbsp;is&nbsp;named&nbsp;when&nbsp;the&nbsp;user&nbsp;adds&nbsp;with&nbsp;add.objective&nbsp;<br>
an&nbsp;objective&nbsp;of&nbsp;type&nbsp;turnover.<br>
&nbsp;<br>
Parameters<br>
----------<br>
weights&nbsp;:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Weights&nbsp;list&nbsp;from&nbsp;optimization.<br>
wgt_init&nbsp;:&nbsp;array-like,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Initial&nbsp;weights&nbsp;list&nbsp;used&nbsp;for&nbsp;measuring&nbsp;turnover&nbsp;from.<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;the&nbsp;turnover&nbsp;of&nbsp;the&nbsp;portfolio&nbsp;given&nbsp;the&nbsp;weights<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
var_portfolio<br>
port_mean<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;w&nbsp;=&nbsp;[0.2,0.3,0.4,-.4,0.5]<br>
&gt;&gt;&gt;&nbsp;<a href="#-turnover">turnover</a>(w)</tt></dd></dl>
 <dl><dt><a name="-turnover_constraint"><strong>turnover_constraint</strong></a>(assets, turnover_target, kind<font color="#909090">='turnover'</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=True</font>)</dt><dd><tt>&nbsp;&nbsp;&nbsp;&nbsp;Target&nbsp;turnover&nbsp;value&nbsp;is&nbsp;determined&nbsp;under&nbsp;the&nbsp;turnover&nbsp;constraint.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;type=”turnover”&nbsp;is&nbsp;stated,&nbsp;the&nbsp;function&nbsp;is&nbsp;called&nbsp;by&nbsp;add.constraint<br>
&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Parameters<br>
&nbsp;&nbsp;&nbsp;&nbsp;----------<br>
&nbsp;&nbsp;&nbsp;&nbsp;asset&nbsp;:&nbsp;Int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number&nbsp;of&nbsp;assets&nbsp;or,&nbsp;as&nbsp;an&nbsp;alternative,&nbsp;a&nbsp;named&nbsp;asset&nbsp;list&nbsp;specifying&nbsp;initial&nbsp;weights.<br>
&nbsp;&nbsp;&nbsp;&nbsp;kind&nbsp;:&nbsp;&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character&nbsp;kind&nbsp;of&nbsp;the&nbsp;constraint.&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Returns<br>
&nbsp;&nbsp;&nbsp;&nbsp;-------<br>
&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;&nbsp;turnover&nbsp;constraints&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;Also<br>
&nbsp;&nbsp;&nbsp;&nbsp;--------<br>
&nbsp;&nbsp;&nbsp;&nbsp;add_constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;box_constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;group_constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;weight_sum_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;turnover_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;diversification_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;position_limit_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;return_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;factor_exposure_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;transaction_cost_constraint<br>
&nbsp;&nbsp;&nbsp;&nbsp;leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Examples<br>
&nbsp;&nbsp;&nbsp;&nbsp;--------<br>
&gt;&gt;&gt;&nbsp;#turnover&nbsp;constraint<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'turnover',&nbsp;turnover_target&nbsp;=&nbsp;0.1)</tt></dd></dl>
 <dl><dt><a name="-turnover_objective"><strong>turnover_objective</strong></a>(name, arguments, target<font color="#909090">=None</font>, multiplier<font color="#909090">=1</font>, enabled<font color="#909090">=True</font>)</dt><dd><tt>We'll&nbsp;try&nbsp;minimizing&nbsp;the&nbsp;turnover&nbsp;metric&nbsp;if&nbsp;the&nbsp;goal&nbsp;is&nbsp;null.&nbsp;&nbsp;&nbsp;&nbsp;<br>
Constructor&nbsp;for&nbsp;the&nbsp;turnover_objective&nbsp;class.<br>
&nbsp;<br>
Parameters<br>
----------<br>
name&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;target&nbsp;name&nbsp;should&nbsp;correspond&nbsp;to&nbsp;a&nbsp;feature,&nbsp;although&nbsp;we&nbsp;will&nbsp;attempt&nbsp;to&nbsp;make&nbsp;allowances.<br>
arguments&nbsp;:&nbsp;dict,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Default&nbsp;arguments&nbsp;to&nbsp;be&nbsp;transferred&nbsp;when&nbsp;executed&nbsp;on&nbsp;an&nbsp;objective&nbsp;function.<br>
target&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Univariate&nbsp;goal&nbsp;for&nbsp;the&nbsp;target.<br>
multiplier&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Multiplier&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;target,&nbsp;typically&nbsp;1&nbsp;or&nbsp;-1.&nbsp;&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;turnover_objective&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_objectives<br>
portfolio_risk_objectives<br>
risk_budget_objective<br>
turnover_objective<br>
minmax_objective<br>
weight_constraint_objective<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('long_only')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('full_investment')<br>
&gt;&gt;&gt;&nbsp;#adding&nbsp;objectives<br>
&gt;&gt;&gt;&nbsp;<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'turnover',&nbsp;name&nbsp;=&nbsp;'turnover',&nbsp;target&nbsp;=&nbsp;0.2)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;'sharpe',&nbsp;target&nbsp;=&nbsp;0.13)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;add&nbsp;a&nbsp;custom&nbsp;objective&nbsp;by&nbsp;first&nbsp;defining&nbsp;it.<br>
&gt;&gt;&gt;&nbsp;def&nbsp;sortino_ratio(w,R):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#SOME&nbsp;CODE<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;{'sortino':sortino_ratio},&nbsp;target&nbsp;=&nbsp;0.35)<br>
NOTE:&nbsp;The&nbsp;output&nbsp;of&nbsp;sortino_ratio&nbsp;or&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;objective&nbsp;must&nbsp;be&nbsp;a&nbsp;float.<br>
NOTE:&nbsp;you&nbsp;can&nbsp;also&nbsp;add&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;other&nbsp;kind&nbsp;of&nbsp;objective&nbsp;in&nbsp;similar&nbsp;methd.</tt></dd></dl>
 <dl><dt><a name="-var_portfolio"><strong>var_portfolio</strong></a>(R, weights)</dt><dd><tt>When&nbsp;var&nbsp;is&nbsp;an&nbsp;object&nbsp;for&nbsp;mean&nbsp;variance&nbsp;or&nbsp;quadratic&nbsp;utility&nbsp;optimization,<br>
this&nbsp;function&nbsp;is&nbsp;used&nbsp;to&nbsp;measure&nbsp;the&nbsp;portfolio&nbsp;variance&nbsp;through&nbsp;a&nbsp;call&nbsp;to&nbsp;constrained_objective.<br>
&nbsp;<br>
Main&nbsp;function&nbsp;to&nbsp;calculate&nbsp;portfolio&nbsp;variance<br>
&nbsp;<br>
Parameters<br>
----------<br>
R&nbsp;:&nbsp;pd.DataFrame,<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;series<br>
weights:&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;of&nbsp;weights&nbsp;of&nbsp;assets.<br>
&nbsp;<br>
Returns<br>
-------<br>
returns&nbsp;the&nbsp;variance&nbsp;of&nbsp;the&nbsp;portfolio&nbsp;given&nbsp;the&nbsp;following&nbsp;weights.<br>
&nbsp;<br>
Notes<br>
-----<br>
&nbsp;<br>
\sigma_{p}&nbsp;=&nbsp;w&nbsp;\Sigma_{p}&nbsp;w^{T}<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
port_mean<br>
VaR<br>
cVaR<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;#&nbsp;calculate&nbsp;the&nbsp;variance&nbsp;of&nbsp;portfolio<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;w&nbsp;=&nbsp;[0.2,0.3,-0.1,0.6,0.8]<br>
&gt;&gt;&gt;&nbsp;<a href="#-var_portfolio">var_portfolio</a>(w,R)</tt></dd></dl>
 <dl><dt><a name="-weight_concentration_objective"><strong>weight_concentration_objective</strong></a>(name, conc_aversion, conc_groups<font color="#909090">=None</font>, multiplier<font color="#909090">=1</font>, arguments<font color="#909090">=None</font>, enabled<font color="#909090">=True</font>)</dt><dd><tt>Using&nbsp;the&nbsp;HHI&nbsp;as&nbsp;a&nbsp;concentration&nbsp;scale,&nbsp;this&nbsp;feature&nbsp;penalizes&nbsp;weight&nbsp;concentration<br>
Constructor&nbsp;for&nbsp;objective&nbsp;of&nbsp;weight&nbsp;concentration.<br>
&nbsp;<br>
Parameters<br>
----------<br>
name&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;name&nbsp;of&nbsp;the&nbsp;concentration&nbsp;measure&nbsp;is&nbsp;currently&nbsp;only&nbsp;supported&nbsp;by&nbsp;"HHI".<br>
conc_aversion&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;concentration&nbsp;value(s)&nbsp;of&nbsp;aversion<br>
conc_groups&nbsp;:&nbsp;dict,<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;defining&nbsp;the&nbsp;asset&nbsp;classes.&nbsp;Similar&nbsp;to&nbsp;'group&nbsp;constraint'&nbsp;groups.<br>
multiplier&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Multiplier&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;target,&nbsp;typically&nbsp;1&nbsp;or&nbsp;-1.<br>
arguments&nbsp;:&nbsp;dict,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Default&nbsp;arguments&nbsp;to&nbsp;be&nbsp;transferred&nbsp;when&nbsp;executed&nbsp;on&nbsp;an&nbsp;objective&nbsp;function.<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;weight&nbsp;constraints&nbsp;objective&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_objectives<br>
portfolio_risk_objectives<br>
risk_budget_objective<br>
turnover_objective<br>
minmax_objective<br>
weight_constraint_objective<br>
&nbsp;<br>
Examples<br>
--------<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;<a href="#portfolio_spec">portfolio_spec</a>(assets&nbsp;=&nbsp;5)<br>
&gt;&gt;&gt;&nbsp;import&nbsp;pandas_datareader&nbsp;as&nbsp;pdr<br>
&gt;&gt;&gt;&nbsp;aapl&nbsp;=&nbsp;pdr.get_data_yahoo('AAPL')<br>
&gt;&gt;&gt;&nbsp;msft&nbsp;=&nbsp;pdr.get_data_yahoo('MSFT')<br>
&gt;&gt;&gt;&nbsp;tsla&nbsp;=&nbsp;pdr.get_data_yahoo('TSLA')<br>
&gt;&gt;&gt;&nbsp;uber&nbsp;=&nbsp;pdr.get_data_yahoo('UBER')<br>
&gt;&gt;&gt;&nbsp;amzn&nbsp;=&nbsp;pdr.get_data_yahoo('AMZN')<br>
&gt;&gt;&gt;&nbsp;port&nbsp;=&nbsp;pd.DataFrame({'aapl':&nbsp;pd.DataFrame.reset_index(aapl).iloc[:,6],&nbsp;'msft':pd.DataFrame.reset_index(msft).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'tsla':&nbsp;pd.DataFrame.reset_index(tsla).iloc[:,6],&nbsp;'uber':pd.DataFrame.reset_index(uber).iloc[:,6],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'amzn':&nbsp;pd.DataFrame.reset_index(amzn).iloc[:,6]})<br>
&gt;&gt;&gt;&nbsp;port_ret&nbsp;=&nbsp;port.pct_change().dropna()<br>
&gt;&gt;&gt;&nbsp;R&nbsp;=&nbsp;port_ret<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('long_only')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>('full_investment')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'weight_conc',&nbsp;name&nbsp;=&nbsp;'HHI',&nbsp;target&nbsp;=&nbsp;0.11)<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;'sharpe',&nbsp;target&nbsp;=&nbsp;0.13)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;add&nbsp;a&nbsp;custom&nbsp;objective&nbsp;by&nbsp;first&nbsp;defining&nbsp;it.<br>
&gt;&gt;&gt;&nbsp;def&nbsp;sortino_ratio(w,R):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#SOME&nbsp;CODE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_objective">add_objective</a>(kind&nbsp;=&nbsp;'performance_metrics',&nbsp;name&nbsp;=&nbsp;{'sortino':sortino_ratio},&nbsp;target&nbsp;=&nbsp;0.35)<br>
NOTE:&nbsp;The&nbsp;output&nbsp;of&nbsp;sortino_ratio&nbsp;or&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;objective&nbsp;must&nbsp;be&nbsp;a&nbsp;float.<br>
NOTE:&nbsp;you&nbsp;can&nbsp;also&nbsp;add&nbsp;other&nbsp;custom&nbsp;function&nbsp;in&nbsp;other&nbsp;kind&nbsp;of&nbsp;objective&nbsp;in&nbsp;similar&nbsp;methd.</tt></dd></dl>
 <dl><dt><a name="-weight_sum_constraint"><strong>weight_sum_constraint</strong></a>(assets, kind<font color="#909090">='weight_sum'</font>, min_sum<font color="#909090">=0.99</font>, max_sum<font color="#909090">=1.01</font>, enabled<font color="#909090">=True</font>, message<font color="#909090">=True</font>)</dt><dd><tt>The&nbsp;constraint&nbsp;determines&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&nbsp;weights&nbsp;of&nbsp;the&nbsp;upper&nbsp;and&nbsp;lower&nbsp;limits.<br>
This&nbsp;function&nbsp;is&nbsp;called&nbsp;add.constraint&nbsp;when&nbsp;the&nbsp;type&nbsp;is&nbsp;defined&nbsp;as&nbsp;"weight&nbsp;sum",&nbsp;<br>
"leverage",&nbsp;"full&nbsp;investment",&nbsp;"dollar&nbsp;neutral"&nbsp;or&nbsp;"active"<br>
&nbsp;<br>
Parameters<br>
----------<br>
assets&nbsp;:&nbsp;Int,&nbsp;or&nbsp;array-like,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number&nbsp;of&nbsp;assets&nbsp;or,&nbsp;as&nbsp;an&nbsp;alternative,&nbsp;a&nbsp;named&nbsp;asset&nbsp;list&nbsp;specifying&nbsp;initial&nbsp;weights.<br>
kind&nbsp;:&nbsp;str,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character&nbsp;kind&nbsp;of&nbsp;the&nbsp;constraint.<br>
min_sum&nbsp;:&nbsp;float,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Minimum&nbsp;sum&nbsp;of&nbsp;all&nbsp;weights&nbsp;of&nbsp;assets,&nbsp;default&nbsp;0.99<br>
max_sum&nbsp;:&nbsp;float,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum&nbsp;sum&nbsp;of&nbsp;all&nbsp;weights&nbsp;of&nbsp;assets,&nbsp;default&nbsp;1.01&nbsp;&nbsp;&nbsp;&nbsp;<br>
enabled&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;constraints.<br>
message&nbsp;:&nbsp;bool,&nbsp;default&nbsp;=&nbsp;True<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;to&nbsp;enable&nbsp;or&nbsp;disable&nbsp;messages.&nbsp;&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
Returns<br>
-------<br>
Adds&nbsp;weight_sum&nbsp;constraint&nbsp;to&nbsp;object&nbsp;<a href="#portfolio_spec">portfolio_spec</a>&nbsp;of&nbsp;the&nbsp;specified&nbsp;input.&nbsp;<br>
&nbsp;<br>
See&nbsp;Also<br>
--------<br>
add_constraints<br>
box_constraints<br>
group_constraints<br>
weight_sum_constraint<br>
turnover_constraint<br>
diversification_constraint<br>
position_limit_constraint<br>
return_constraint<br>
factor_exposure_constraint<br>
transaction_cost_constraint<br>
leverage_exposure_constraint<br>
&nbsp;<br>
&nbsp;<br>
Examples<br>
--------<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;#&nbsp;adding&nbsp;weight_sum&nbsp;constraint<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'weight_sum',&nbsp;min_sum&nbsp;=&nbsp;0.9,&nbsp;max_sum&nbsp;=&nbsp;.95)<br>
&gt;&gt;&gt;&nbsp;#&nbsp;special&nbsp;case&nbsp;of&nbsp;weight_sum&nbsp;is&nbsp;dollar_neutral/active&nbsp;or&nbsp;full_investment<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'dollar_neutral')<br>
&gt;&gt;&gt;&nbsp;<a href="#-add_constraint">add_constraint</a>(portfolio,&nbsp;kind&nbsp;=&nbsp;'full_investment')</tt></dd></dl>
</td></tr></table>
</body></html>